{"version":3,"sources":["components/ingredient-details/ingredient-details.module.css","components/menu-item/menu-item.jsx","components/app-header/app-header.jsx","services/actions/ingredient.js","components/ingredient/ingredient.jsx","components/ingredient-type/ingredient-type.jsx","components/utils/type.js","components/modal-overlay/modal-overlay.jsx","components/modal/modal.jsx","components/ingredient-details/ingredient-details.jsx","components/burger-ingredients/burger-ingredients.jsx","services/actions/burger-consructor.js","components/constructor-item/constructor-item.jsx","images/Subtract.svg","components/order-registration/order-registration.jsx","components/utils/Api.js","services/actions/burger-ingredients.js","images/done.svg","components/order-details/order-details.jsx","services/actions/order-details.js","components/utils/utils.js","components/burger-constructor/burger-constructor.jsx","components/app/app.jsx","reportWebVitals.ts","services/reducers/burger-ingredients.js","services/reducers/ingredient.js","services/reducers/order-details.js","services/reducers/burger-constructor.js","services/reducers/index.js","index.tsx","components/app-header/app-header.module.css","components/burger-constructor/burger-constructor.module.css","components/burger-ingredients/burger-ingredients.module.css","components/ingredient/ingredient.module.css","components/modal/modal.module.css","components/app/app.module.css","components/ingredient-type/ingredient-type.module.css","components/modal-overlay/modal-overlay.module.css","components/constructor-item/constructor-item.module.css","components/order-details/order-details.module.css"],"names":["module","exports","MenuItem","props","className","styles","children","text","textStyles","AppHeader","headerStyles","header","header__navigation","header__list","header__item","type","header__logo","CLICK_ON_INGREDIENT","CLICK_ON_CLOSE_BUTTON","Ingredient","id","useSelector","state","constructorState","bun","elements","dispatch","useDispatch","ingredients","burgerData","useDrag","item","dragRef","selectIngredient","evt","data","filter","_id","currentTarget","ref","cardStyles","ingredient__item","onClick","amount","length","count","size","ingredient__image","src","image","alt","name","ingredient__info","price","ingredient__text","IngredientType","PropTypes","arrayOf","shape","string","isRequired","number","proteins","fat","carbohydrates","calories","React","forwardRef","ingredientName","сolumnsStyle","column","map","ModalOverlay","overlayStyles","overlay","closeFunction","Modal","modalRef","useRef","modalRoot","document","getElementById","closeByEsc","key","closeModal","useEffect","addEventListener","removeEventListener","ReactDOM","createPortal","popupStyles","popup","target","current","closeByClickOverlay","modal","modalHeaderStyles","headerText","modalStyles","popup__closeicon","IngredientDetails","ingredientModalStyles","modal__conteiner","modal__image","modal__list","modal__listelement","modal__text","BurgerIngredients","currentSelect","currentItem","itemIsClicked","useState","setCurrent","bunsRef","soucesRef","fillingsRef","ingredientsStyles","burger__tabs","burger__nav","value","active","scrollIntoView","behavior","burger__ingredients","onScroll","e","scrollPosition","scrollTop","positionOfSouceContainer","offsetTop","positionofFillingsContainer","determineElementPosition","modal__header","ADD_ITEM","ADD_BUN","DELETE_INGREDIENT","REORDER_INGREDIENTS","CLEAN_STATE","ConstructorItem","index","collect","monitor","opacity","isDragging","drag","useDrop","accept","hover","dragIndex","hoverIndex","newCards","dragCard","splice","moveCard","drop","itemStyles","constructoritem__element","style","OrderRegistration","cost","clickHandler","url","this","_url","_headers","res","ok","json","Promise","reject","status","fetch","method","headers","then","_checkResponse","arrayOfId","body","JSON","stringify","BURGER_DATA_REQUEST","BURGER_DATA_SUCCESS","BURGER_DATA_ERROR","ADD_AMMOUNT","DECREASE_AMOUNT","OrderDetails","orderDetailsStyles","order__conteiner","orderDoneImage","OPEN_ORDER_POPUP","GET_ORDER_REQUEST","GET_ORDER_SUCCESS","GET_ORDER_ERROR","CLOSE_ORDER_POPUP","calculateCost","bunPrice","reduce","BurgerConstructor","currentOrder","orderButtonIsClicked","requestIsSuccessed","orderNumber","orderRequest","uid","useMemo","Date","now","Math","random","isDrag","canDrop","itemId","bunItem","find","dropTarget","itemRemove","useCallback","itemKey","orderDetailsRequestSending","idData","idArray","Api","getOrderNumber","order","orderData","result","success","catch","err","orderPopupClose","consructorStyles","burgerconstructor__dropconteiner","burgerconstructor__conteiner","cartStyle","burgerconstructor__elementswithscroll","burgerconstructor__elements","Array","of","isLocked","thumbnail","image_mobile","handleClose","burgerconstructor__cost","burgerconstructor__modalheader","App","getBurgerIngredientsData","app","app__constructor","DndProvider","backend","HTML5Backend","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","dataRequest","dataRequestFailed","currentChoiceInitialState","orderInitialState","orderFailure","wholeOrder","constructorInitialState","rootReducer","combineReducers","action","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","createStore","render","StrictMode","store"],"mappings":"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","file":"static/js/main.5d4971f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal__conteiner\":\"ingredient-details_modal__conteiner__3BjfA\",\"modal__image\":\"ingredient-details_modal__image__y3ADF\",\"modal__list\":\"ingredient-details_modal__list__3W5Ct\",\"modal__listelement\":\"ingredient-details_modal__listelement__CqxKt\",\"modal__text\":\"ingredient-details_modal__text__WkOiW\"};","import React from \"react\";\n\n\nexport function MenuItem(props) {\n    return (\n        <li className={props.styles}>\n            {props.children}\n            {props.text && <p className={props.textStyles}>{props.text}</p>}\n        </li>\n    )\n}","import React from \"react\";\nimport { Logo } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport headerStyles from './app-header.module.css';\nimport { BurgerIcon, ListIcon, ProfileIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { MenuItem } from \"../menu-item/menu-item\";\n\nexport function AppHeader() {\n  return (\n    <header className={headerStyles.header}>\n      <nav className={headerStyles.header__navigation}>\n        <ul className={headerStyles.header__list}>\n          <MenuItem text='Конструктор' textStyles={'text text_type_main-default ml-2'} styles={`${headerStyles.header__item} pl-5 pr-5`}>\n            <BurgerIcon type='primary' />\n          </MenuItem>\n          <MenuItem text='Лента заказов' textStyles={'text text_type_main-default text_color_inactive ml-2'} styles={`${headerStyles.header__item} pl-5 pr-5`}>\n            <ListIcon type='secondary' />\n          </MenuItem>\n          <MenuItem styles={headerStyles.header__logo}>\n            <Logo />\n          </MenuItem>\n          <MenuItem text='Личный кабинет' textStyles={'text text_type_main-default text_color_inactive ml-2'} styles={`${headerStyles.header__item} pl-5 pr-5`}>\n            <ProfileIcon type='secondary' />\n          </MenuItem>\n        </ul>\n      </nav>\n    </header>\n\n  )\n}","export const CLICK_ON_INGREDIENT = 'CLICK_ON_INGREDIENT';\nexport const CLICK_ON_CLOSE_BUTTON = 'CLICK_ON_CLOSE_BUTTON';","import React from \"react\";\nimport cardStyles from './ingredient.module.css';\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { Counter } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { CLICK_ON_INGREDIENT } from \"../../services/actions/ingredient\";\nimport { useDrag } from \"react-dnd\";\n\n\nexport function Ingredient(props) {\n  const { id } = props\n  const { bun, elements } = useSelector(state => state.constructorState)\n\n  const dispatch = useDispatch();\n  const { ingredients } = useSelector(state => state.burgerData);\n\n  const [, dragRef] = useDrag({\n    type: 'item',\n    item: { id }\n  })\n  ////находим ингредиент который выбрали\n  function selectIngredient(evt, data) {\n    return data.filter(item => {\n      return item._id === evt.currentTarget.id\n    })\n\n  }\n\n  return (\n    <li ref={dragRef} id={props.id} className={cardStyles.ingredient__item} onClick={(evt) => { dispatch({ type: CLICK_ON_INGREDIENT, item: selectIngredient(evt, ingredients) }) }}   >\n      {!!props.amount && !!elements.length && <Counter count={props.amount} size=\"default\" />}\n      {!!bun.amount && props.type === 'bun' && bun._id === id && !!bun && <Counter count={bun.amount} size=\"default\" />}\n      <img className={`mb-1 pl-4 pr-4  ${cardStyles.ingredient__image}`} src={props.image} alt={props.name} />\n      <div className={`mb-1 ${cardStyles.ingredient__info}`} >\n        <p className='mr-1 text text_type_digits-default'>{props.price}</p>\n        <CurrencyIcon type=\"primary\" />\n      </div>\n      <p className={`mt-1 text text_type_main-default ${cardStyles.ingredient__text}`}>{props.name}</p>\n    </li>\n  )\n}\n\nIngredient.propTypes = {\n  name: PropTypes.string.isRequired,\n  image: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired\n}\n","import React from \"react\";\nimport { Ingredient } from \"../ingredient/ingredient\";\nimport сolumnsStyle from './ingredient-type.module.css';\nimport PropTypes from 'prop-types';\nimport { ingredientsPropTypes } from \"../utils/type\";\n\n\n///компонент контейнер для отрисовки определенного типа ингридиентов\nexport const IngredientType = React.forwardRef((props, ref) => {\n\n\n  return (\n    <>\n      <h2 ref={ref} className='text text_type_main-medium mb-6'>{props.ingredientName}</h2>\n      <ul className={`pl-4 pr-4 mb-10 ${сolumnsStyle.column}`}>\n        {props.data && props.data.map(item => (\n          <Ingredient id={item._id} key={item._id} {...item} />\n        ))\n        }\n      </ul>\n    </>\n  )\n})\n\nIngredientType.propTypes = {\n  ingredientName: PropTypes.string.isRequired,\n  data: ingredientsPropTypes.isRequired\n}\n\n\n","import PropTypes from 'prop-types';\n\nexport const ingredientsPropTypes = PropTypes.arrayOf(\n    PropTypes.shape({\n        _id: PropTypes.string.isRequired,\n        name: PropTypes.string.isRequired,\n        image: PropTypes.string.isRequired,\n        price: PropTypes.number.isRequired,\n        type: PropTypes.string.isRequired,\n        proteins: PropTypes.number.isRequired,\n        fat: PropTypes.number.isRequired,\n        carbohydrates: PropTypes.number.isRequired,\n        calories: PropTypes.number.isRequired\n    })\n)","import overlayStyles from './modal-overlay.module.css';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const ModalOverlay = React.forwardRef((props, ref) => {\n\n\n  return (\n    <div ref={ref} className={overlayStyles.overlay} onClick={props.closeFunction}>\n    </div>\n  )\n})\n\nModalOverlay.propTypes = {\n  closeFunction: PropTypes.func.isRequired\n}\n","import ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport popupStyles from './modal.module.css';\nimport { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { ModalOverlay } from '../modal-overlay/modal-overlay';\nimport { useEffect } from \"react\";\nimport PropTypes from 'prop-types';\n\nexport function Modal(props) {\n\n  const modalRef = React.useRef();\n  const modalRoot = document.getElementById('modal-root');\n\n  ///закрытие попапа по нажатию на Esc\n  function closeByEsc(evt) {\n    evt.key === 'Escape' && props.closeModal()\n  }\n  ///закрытие попапа по нажатию на оверлей\n  function closeByClickOverlay(evt) {\n\n    evt.target === modalRef.current && props.closeModal()\n  }\n\n  useEffect(() => {\n    document.addEventListener('keydown', closeByEsc)\n\n    return () => {\n      document.removeEventListener('keydown', closeByEsc)\n\n    }\n  }, [])\n\n  return ReactDOM.createPortal(\n    (<div className={popupStyles.popup} >\n      <ModalOverlay ref={modalRef} closeFunction={(evt) => { closeByClickOverlay(evt) }} />\n      <div className={popupStyles.modal} >\n        <div className={props.modalHeaderStyles} >\n          {props.headerText && <h2 className={props.modalStyles} >{props.headerText}</h2>}\n          <div className={popupStyles.popup__closeicon}><CloseIcon type='primary' onClick={props.closeModal} /></div>\n        </div>\n        {props.children}\n      </div>\n    </div>\n    ), modalRoot)\n}\n\nModal.propTypes = {\n  modalHeaderStyles: PropTypes.string.isRequired,\n  closeModal: PropTypes.func.isRequired,\n  headerText: PropTypes.string,\n  modalStyles: PropTypes.string\n}\n","import ingredientModalStyles from './ingredient-details.module.css';\nimport PropTypes from 'prop-types'\n\nexport function IngredientDetails(props) {\n\n  return (\n    <div className={`${ingredientModalStyles.modal__conteiner} mb-15`}>\n      <img src={props.image} alt={props.name} className={`${ingredientModalStyles.modal__image} mb-4`} />\n      <p className='mb-8 text text_type_main-medium'>{props.name}</p>\n      <div >\n        <ul className={ingredientModalStyles.modal__list}>\n          <li className={`mr-5 text text_type_main-default text_color_inactive ${ingredientModalStyles.modal__listelement}`}>\n            <p className={`${ingredientModalStyles.modal__text} mb-2`}>Калории, ккал</p>\n            <p className={`${ingredientModalStyles.modal__text} text text_type_digits-default`}>{props.calories}</p>\n          </li>\n          <li className={`mr-5 text text_type_main-default text_color_inactive ${ingredientModalStyles.modal__listelement}`}>\n            <p className={`${ingredientModalStyles.modal__text} mb-2`}>Белки, г</p>\n            <p className={`${ingredientModalStyles.modal__text} text text_type_digits-default`}>{props.proteins}</p>\n          </li>\n          <li className={`mr-5 text text_type_main-default text_color_inactive ${ingredientModalStyles.modal__listelement}`}>\n            <p className={`${ingredientModalStyles.modal__text} mb-2`}>Жиры, г</p>\n            <p className={`${ingredientModalStyles.modal__text} text text_type_digits-default`}>{props.fat}</p></li>\n          <li className={` text text_type_main-default text_color_inactive ${ingredientModalStyles.modal__listelement}`}>\n            <p className={`${ingredientModalStyles.modal__text} mb-2`}>Углеводы, г</p>\n            <p className={`${ingredientModalStyles.modal__text} text text_type_digits-default`}>{props.carbohydrates}</p></li>\n        </ul>\n      </div>\n    </div>\n\n  )\n}\n\nIngredientDetails.propTypes = PropTypes.shape({\n  name: PropTypes.string.isRequired,\n  image: PropTypes.string.isRequired,\n  proteins: PropTypes.number.isRequired,\n  fat: PropTypes.number.isRequired,\n  carbohydrates: PropTypes.number.isRequired,\n  calories: PropTypes.number.isRequired\n}).isRequired\n","import React from \"react\";\nimport { Tab } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport ingredientsStyles from './burger-ingredients.module.css';\nimport { IngredientType } from '../ingredient-type/ingredient-type';\nimport { Modal } from \"../modal/modal\";\nimport { IngredientDetails } from \"../ingredient-details/ingredient-details\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { CLICK_ON_CLOSE_BUTTON } from \"../../services/actions/ingredient\";\n\n\n\nexport function BurgerIngredients() {\n  const { currentItem, itemIsClicked } = useSelector(state => state.currentSelect);\n  const { ingredients } = useSelector(state => state.burgerData);\n\n  const dispatch = useDispatch();\n  const [current, setCurrent] = React.useState('Булки')\n  const bunsRef = React.useRef();\n  const soucesRef = React.useRef();\n  const fillingsRef = React.useRef();\n\n  ///вычисляем где сейчас находится скролл и подсвечиваем нужный Tabn\n  function determineElementPosition(e) {\n    const scrollPosition = e.target.scrollTop;\n    const positionOfSouceContainer = soucesRef.current.offsetTop;\n    const positionofFillingsContainer = fillingsRef.current.offsetTop;\n    if (scrollPosition + 303 <= positionOfSouceContainer) {\n      setCurrent('Булки');\n    }\n    else if (scrollPosition + 303 <= positionofFillingsContainer) {\n      setCurrent('Соусы');\n    } else {\n      setCurrent('Начинки');\n    }\n  }\n\n  return (\n\n    <div className={ingredientsStyles.burger__tabs}>\n      <h1 className='text text_type_main-large mt-10 mb-5'>Соберите бургер</h1>\n      <ul className={`mb-10 ${ingredientsStyles.burger__nav}`}>\n        <li>\n          <Tab value=\"Булки\" active={current === 'Булки'} onClick={(value) => { setCurrent(value); bunsRef.current.scrollIntoView({ behavior: \"smooth\", }) }} >\n            Булки\n          </Tab>\n        </li>\n        <li>\n          <Tab value=\"Соусы\" active={current === 'Соусы'} onClick={(value) => { setCurrent(value); soucesRef.current.scrollIntoView({ behavior: \"smooth\", }) }}>\n            Соусы\n          </Tab>\n        </li>\n        <li>\n          <Tab value=\"Начинки\" active={current === 'Начинки'} onClick={(value) => { setCurrent(value); fillingsRef.current.scrollIntoView({ behavior: \"smooth\", }) }}>\n            Начинки\n          </Tab>\n        </li>\n      </ul>\n      <div className={ingredientsStyles.burger__ingredients} onScroll={e => { determineElementPosition(e) }}>\n        <IngredientType ingredientName='Булки' data={ingredients.filter(item => item.type === 'bun')} ref={bunsRef} />\n        <IngredientType ingredientName='Соусы' data={ingredients.filter(item => item.type === 'sauce')} ref={soucesRef} />\n        <IngredientType ingredientName='Начинки' data={ingredients.filter(item => item.type === 'main')} ref={fillingsRef} />\n      </div>\n      {itemIsClicked && <Modal headerText={'Детали ингридиента'} modalStyles={`text text_type_main-large`} modalHeaderStyles={`${ingredientsStyles.modal__header} mt-10 mr-10 ml-10`} closeModal={() => { dispatch({ type: CLICK_ON_CLOSE_BUTTON }) }}><IngredientDetails {...currentItem} /></Modal>}\n    </div>\n  )\n}\n\n\n\n","export const ADD_ITEM = 'ADD_ITEM';\n\nexport const ADD_BUN = 'ADD_BUN';\nexport const DELETE_INGREDIENT = 'DELETE_INGREDIENT';\n\nexport const REORDER_INGREDIENTS = 'REORDER_INGREDIENTS';\nexport const CLEAN_STATE = 'CLEAN_STATE';\n","import React from 'react';\nimport { DragIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport itemStyles from './constructor-item.module.css';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { REORDER_INGREDIENTS } from '../../services/actions/burger-consructor';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\n\n\nexport function ConstructorItem(props) {\n  const { elements } = useSelector(state => state.constructorState);\n  const ref = React.useRef();\n  const dispatch = useDispatch();\n  const { id, index } = props;\n\n  ///заменяем массив с новым порядком в стейте\n  function moveCard(dragIndex, hoverIndex) {\n    let newCards = [...elements];\n    let dragCard = newCards[dragIndex];\n    newCards.splice(dragIndex, 1);\n    newCards.splice(hoverIndex, 0, dragCard);\n    dispatch({ type: REORDER_INGREDIENTS, data: newCards });\n  }\n\n\n  const [{ opacity }, drag] = useDrag({\n    type: 'element',\n    item: { id, index },\n    collect: monitor => ({\n      opacity: monitor.isDragging() ? 0.5 : 1\n    })\n  })\n\n  const [, drop] = useDrop({\n    accept: 'element',\n    hover(item) {\n      if (item.index === index) {\n        return;\n      }\n      if (!ref.current) {\n        return;\n      }\n      moveCard(item.index, index);\n      item.index = index\n    }\n  })\n\n  drag(drop(ref))\n\n  return (\n    <li ref={ref} index={index} className={`mt-4 ${itemStyles.constructoritem__element}`} style={{ opacity }}>\n      <DragIcon type='primary' />\n      {props.children}\n    </li>\n  )\n}\n\nConstructorItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  index: PropTypes.number.isRequired\n}\n","export default __webpack_public_path__ + \"static/media/Subtract.c76f6647.svg\";","import React from \"react\";\nimport { Button } from \"@ya.praktikum/react-developer-burger-ui-components\"\nimport image from '../../images/Subtract.svg';\n\nexport function OrderRegistration(props) {\n\n\n  return (\n    <div className={props.styles}>\n      <p className='text text_type_digits-medium mr-2'>{props.cost}</p>\n\n      <img src={image} alt='icon' />\n      <div className='ml-10'>\n        <Button type=\"primary\" size=\"large\" onClick={() => props.clickHandler()}>Оформить заказ</Button>\n      </div>\n    </div>\n\n  )\n}\n","const baseUrl = 'https://norma.nomoreparties.space/api/';\n\n\nclass Api {\n    constructor({ url }) {\n        this._url = url;\n        this._headers = {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n\n    getBurgerIngredientsData() {\n        return fetch(`${this._url}ingredients`, {\n            method: 'GET',\n            headers: this._headers\n        }).then(this._checkResponse)\n    }\n\n    getOrderNumber(arrayOfId) {\n        return fetch(`${this._url}orders`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({ \"ingredients\": arrayOfId })\n        }).then(this._checkResponse);\n    }\n\n\n\n\n\n}\n\nexport default new Api({\n    url: baseUrl\n})","import Api from \"../../components/utils/Api\";\n\nexport const BURGER_DATA_REQUEST = 'BURGER_DATA_REQUEST';\nexport const BURGER_DATA_SUCCESS = 'BURGER_DATA_SUCCESS';\nexport const BURGER_DATA_ERROR = 'BURGER_DATA_ERROR';\nexport const ADD_AMMOUNT = 'ADD_AMOUNT';\nexport const DECREASE_AMOUNT = 'DECREASE_AMOUNT';\n\n\n\n\n\nexport function getBurgerData() {\n    return function(dispatch) {\n        dispatch({ type: BURGER_DATA_REQUEST })\n        Api.getBurgerIngredientsData()\n            .then(res => {\n                dispatch({\n                    type: BURGER_DATA_SUCCESS,\n                    data: res.data,\n                })\n            })\n            .catch(err => { dispatch({ type: BURGER_DATA_ERROR }) })\n    }\n}","export default __webpack_public_path__ + \"static/media/done.fd977731.svg\";","import orderDetailsStyles from './order-details.module.css';\nimport orderDoneImage from '../../images/done.svg';\n\n\nexport function OrderDetails(props) {\n  return (\n    <div className={`${orderDetailsStyles.order__conteiner} mt-30 mb-30`}>\n      <h3 className='mb-8 text text_type_digits-large'>{props.number}</h3>\n      <span className='text text_type_main-medium mb-15'>идентификатор заказа</span>\n      <img src={orderDoneImage} alt='готово' />\n      <p className='text text_type_main-default mt-15'>Ваш заказ начали готовить</p>\n      <span className='text text_type_main-default text_color_inactive mt-2'>Дождитесь готовности на орбитальной станции</span>\n    </div>\n\n  )\n}\n","import Api from \"../../components/utils/Api\";\n\nexport const OPEN_ORDER_POPUP = 'OPEN_ORDER_POPUP';\nexport const GET_ORDER_REQUEST = 'GET_ORDER_REQUEST';\nexport const GET_ORDER_SUCCESS = 'GET_ORDER_SUCCESS';\nexport const GET_ORDER_ERROR = 'GET_ORDER_ERROR';\nexport const CLOSE_ORDER_POPUP = 'CLOSE_ORDER_POPUP';\n\n\nexport function getOrderNumber(idData) {\n    return function(dispatch) {\n        dispatch({ type: GET_ORDER_REQUEST })\n        Api.getOrderNumber(idData)\n            .then(res => {\n\n                dispatch({ type: GET_ORDER_SUCCESS, data: res.order.number, orderData: res, result: res.success })\n            })\n            .catch(err => { dispatch({ type: GET_ORDER_ERROR }) })\n\n    }\n}","export const uid = () => { return Date.now() * Math.random() }\n\nexport function calculateCost(elements, bunPrice = 0) {\n    return bunPrice + elements.reduce((res, item) => {\n        return res + item.price\n    }, 0)\n}","import consructorStyles from './burger-constructor.module.css';\nimport { ConstructorElement } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { ConstructorItem } from '../constructor-item/constructor-item';\nimport { OrderRegistration } from '../order-registration/order-registration';\nimport { useDrop } from 'react-dnd';\nimport { ADD_ITEM, ADD_BUN, DELETE_INGREDIENT, CLEAN_STATE } from '../../services/actions/burger-consructor';\nimport { ADD_AMMOUNT, DECREASE_AMOUNT } from '../../services/actions/burger-ingredients';\nimport { Modal } from '../modal/modal';\nimport React from 'react';\nimport { OrderDetails } from '../order-details/order-details';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { OPEN_ORDER_POPUP, CLOSE_ORDER_POPUP } from '../../services/actions/order-details';\nimport { getOrderNumber } from '../../services/actions/order-details';\nimport { calculateCost } from '../utils/utils';\n\n\n\nexport function BurgerConstructor() {\n  const dispatch = useDispatch();\n  const { orderButtonIsClicked, requestIsSuccessed, orderNumber } = useSelector(state => state.currentOrder);\n  const { ingredients } = useSelector(state => state.burgerData);\n  const { orderRequest } = useSelector(state => state.currentOrder)\n  const { elements, bun } = useSelector(state => state.constructorState);\n\n  ///вычисляем значения для ключей\n  const uid = React.useMemo(() => {\n    return Date.now() * Math.random()\n  }, [elements])\n\n  const [{ isDrag }, dropTarget] = useDrop({\n    accept: 'item',\n    collect: monitor => ({\n      isDrag: monitor.canDrop()\n    }),\n    drop(itemId) {\n      dispatch({\n        type: ADD_ITEM, data: ingredients.filter(item => {\n          return item._id === itemId.id && item.type !== 'bun'\n        }).map((item) => { return { ...item, uid: uid } })\n      })\n      dispatch({\n        type: ADD_BUN, bunItem: ingredients.find(item => {\n          return item._id === itemId.id && item.type === 'bun'\n        })\n      })\n      dispatch({ type: ADD_AMMOUNT, id: itemId.id })\n    }\n  });\n\n  ///удаляем ингредиент из конструктора и меняем значение счетчика\n  const itemRemove = React.useCallback((itemKey, itemId) => {\n    dispatch({ type: DELETE_INGREDIENT, id: itemKey });\n    dispatch({ type: DECREASE_AMOUNT, id: itemId });\n  }, [dispatch])\n\n  ///логика открытия попапа с номером заказа\n  const orderDetailsRequestSending = React.useCallback(() => {\n    const idArray = elements.map(item => { return item._id })\n    dispatch({ type: OPEN_ORDER_POPUP });\n    dispatch(getOrderNumber([...idArray, bun._id]));\n  }, [dispatch, elements, bun._id])\n\n  ///логика закрытия попапа\n  const orderPopupClose = React.useCallback(() => {\n    dispatch({ type: CLOSE_ORDER_POPUP });\n    dispatch({ type: CLEAN_STATE });\n  })\n\n  const style = isDrag ? consructorStyles.burgerconstructor__dropconteiner : consructorStyles.burgerconstructor__conteiner\n  const cartStyle = elements.length >= 6 ? consructorStyles.burgerconstructor__elementswithscroll : consructorStyles.burgerconstructor__elements\n\n\n\n  return (\n    elements && <div ref={dropTarget} className={`pl-4   ml-10 pt-25 ${style}`}>\n      {bun && Array.of(bun).map(item => (\n        <ConstructorElement key={uid} type=\"top\" isLocked={true} text={item.name} price={item.price} thumbnail={item.image_mobile} />\n      ))\n      }\n      <ul className={`pr-4 mr-4 ${cartStyle}`}>\n        {elements.filter(item => { return item.type !== 'bun' }).map((item, index) => (\n          <ConstructorItem id={item.uid} index={index} key={item.uid}>\n            <ConstructorElement id={item.uid} text={item.name} thumbnail={item.image_mobile} price={item.price} handleClose={() => itemRemove(item.uid, item._id)} />\n          </ConstructorItem>))}\n      </ul>\n      {bun && Array.of(bun).map(item => (\n        <ConstructorElement key={uid} type=\"bottom\" isLocked={true} text={item.name} price={item.price} thumbnail={item.image_mobile} />))}\n      <OrderRegistration clickHandler={orderDetailsRequestSending} styles={`mt-10 ${consructorStyles.burgerconstructor__cost}`} cost={calculateCost(elements, bun.price)} />\n      {orderButtonIsClicked && requestIsSuccessed && <Modal closeModal={orderPopupClose} modalHeaderStyles={consructorStyles.burgerconstructor__modalheader}><OrderDetails number={orderNumber} /></Modal>}\n    </div >\n\n\n  )\n}\n\n\n","import React from 'react';\nimport { AppHeader } from '../app-header/app-header';\nimport styles from './app.module.css'\nimport { BurgerIngredients } from '../burger-ingredients/burger-ingredients'\nimport { BurgerConstructor } from '../burger-constructor/burger-constructor';\nimport { useDispatch } from 'react-redux';\nimport { getBurgerData } from '../../services/actions/burger-ingredients';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    dispatch(getBurgerData());\n  }, [dispatch])\n\n  return (\n    <>\n      <AppHeader />\n      <main className={styles.app}>\n        <section className={styles.app__constructor}>\n          <DndProvider backend={HTML5Backend}>\n            <BurgerIngredients />\n            <BurgerConstructor />\n          </DndProvider>\n        </section>\n      </main>\n    </>\n  )\n}\n\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { BURGER_DATA_REQUEST, BURGER_DATA_SUCCESS, BURGER_DATA_ERROR, ADD_AMMOUNT, DECREASE_AMOUNT } from \"../actions/burger-ingredients\";\n\nconst initialState = {\n    ingredients: [],\n    dataRequest: false,\n    dataRequestFailed: false\n}\n\nexport const burgerDataReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case BURGER_DATA_REQUEST:\n            return {\n                ...state,\n                dataRequest: true\n            };\n        case BURGER_DATA_SUCCESS:\n            return {\n                ...state,\n                ingredients: action.data.map(item => { return {...item, amount: 0 } }),\n                dataRequest: false\n            };\n        case BURGER_DATA_ERROR:\n            return {\n                ...state,\n                ingredients: [],\n                dataRequest: false,\n                dataRequestFailed: true,\n\n            };\n        case ADD_AMMOUNT:\n            return {\n                ...state,\n                ingredients: [...state.ingredients].map(item => {\n                    return item._id === action.id && item.type !== 'bun' ? {...item, amount: item.amount + 1 } : item\n                })\n            }\n        case DECREASE_AMOUNT:\n            return {\n                ...state,\n                ingredients: [...state.ingredients].map(item => {\n                    return item._id === action.id ? {...item, amount: item.amount - 1 } : item\n                })\n            }\n        default:\n            return {...state };\n    }\n}\n","import { CLICK_ON_INGREDIENT, CLICK_ON_CLOSE_BUTTON } from \"../actions/ingredient\";\n\nconst currentChoiceInitialState = {\n    itemIsClicked: false,\n    currentItem: {}\n}\n\n\nexport const ingredientReducer = (state = currentChoiceInitialState, action) => {\n    switch (action.type) {\n        case CLICK_ON_INGREDIENT:\n            return {\n                ...state,\n                itemIsClicked: true,\n                currentItem: action.item[0]\n            }\n        case CLICK_ON_CLOSE_BUTTON:\n            return {\n                ...state,\n                itemIsClicked: false,\n                currentItem: {}\n            }\n        default:\n            return { state }\n    }\n}","import { GET_ORDER_REQUEST, GET_ORDER_SUCCESS, GET_ORDER_ERROR, OPEN_ORDER_POPUP, CLOSE_ORDER_POPUP } from \"../actions/order-details\";\n\nconst orderInitialState = {\n    orderRequest: false,\n    requestIsSuccessed: false,\n    orderFailure: false,\n    orderNumber: null,\n    wholeOrder: {},\n    orderButtonIsClicked: false\n}\n\n\nexport const orderReducer = (state = orderInitialState, action) => {\n    switch (action.type) {\n        case OPEN_ORDER_POPUP:\n            return {\n                ...state,\n                orderButtonIsClicked: true\n            }\n        case CLOSE_ORDER_POPUP:\n            return {\n                ...state,\n                orderButtonIsClicked: false,\n                orderNumber: null,\n                wholeOrder: {}\n            }\n        case GET_ORDER_REQUEST:\n            return {\n                ...state,\n                orderRequest: true\n            }\n        case GET_ORDER_SUCCESS:\n            return {\n                ...state,\n                orderRequest: false,\n                orderNumber: action.data,\n                wholeOrder: action.orderData,\n                requestIsSuccessed: action.result,\n\n            }\n        case GET_ORDER_ERROR:\n            return {\n                ...state,\n                orderFailure: true,\n                orderNumber: null,\n            }\n        default:\n            return { state }\n    }\n}\n","import { ADD_ITEM, ADD_BUN, DELETE_INGREDIENT, CLEAN_STATE, REORDER_INGREDIENTS } from \"../actions/burger-consructor\";\n\nconst constructorInitialState = {\n    elements: [],\n    bun: ''\n}\n\nexport const constructorReducer = (state = constructorInitialState, action) => {\n    switch (action.type) {\n        case ADD_BUN:\n            return {\n                ...state,\n                bun: action.bunItem ? {...action.bunItem, amount: 1 } : state.bun\n            }\n        case ADD_ITEM:\n            return {\n                ...state,\n                elements: [...state.elements, ...action.data]\n            }\n        case DELETE_INGREDIENT:\n            return {\n                ...state,\n                elements: [...state.elements].filter(item => { return item.uid !== action.id })\n\n            }\n        case REORDER_INGREDIENTS:\n            return {\n                ...state,\n                elements: action.data\n            }\n        case CLEAN_STATE:\n            return {\n                ...state,\n                elements: [],\n                bun: ''\n            }\n        default:\n            return {...state }\n\n    }\n}\n","import { combineReducers } from 'redux';\n\nimport { burgerDataReducer } from './burger-ingredients'\nimport { ingredientReducer } from './ingredient';\nimport { orderReducer } from './order-details';\nimport { constructorReducer } from './burger-constructor';\n\nexport const rootReducer = combineReducers({\n    burgerData: burgerDataReducer,\n    currentSelect: ingredientReducer,\n    currentOrder: orderReducer,\n    constructorState: constructorReducer\n})\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/app.jsx';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\nimport { compose, createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport { rootReducer } from './services/reducers/index';\nimport thunk from 'redux-thunk';\n\n\n\nconst composeEnhancers =\n  typeof window === 'object' && (window && (window as any)).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? (window && (window as any)).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\n\n\nconst state = createStore(rootReducer,enhancer);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={state}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__3KCCX\",\"header__navigation\":\"app-header_header__navigation__1co0x\",\"header__list\":\"app-header_header__list__vkHPm\",\"header__logo\":\"app-header_header__logo__3RF0J\",\"header__item\":\"app-header_header__item__g_N9q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burgerconstructor__conteiner\":\"burger-constructor_burgerconstructor__conteiner__1MMU9\",\"burgerconstructor__dropconteiner\":\"burger-constructor_burgerconstructor__dropconteiner__15tgs\",\"burgerconstructor__elements\":\"burger-constructor_burgerconstructor__elements__3XmY9\",\"burgerconstructor__elementswithscroll\":\"burger-constructor_burgerconstructor__elementswithscroll__2TYPO\",\"burgerconstructor__cost\":\"burger-constructor_burgerconstructor__cost__3KcpI\",\"burgerconstructor__modalheader\":\"burger-constructor_burgerconstructor__modalheader__3kgrI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger__tabs\":\"burger-ingredients_burger__tabs__1ZNnk\",\"burger__ingredients\":\"burger-ingredients_burger__ingredients__165oc\",\"burger__nav\":\"burger-ingredients_burger__nav__3aw0W\",\"modal__header\":\"burger-ingredients_modal__header__1EaVu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient__item\":\"ingredient_ingredient__item__2G6q2\",\"ingredient__image\":\"ingredient_ingredient__image__17lHO\",\"ingredient__info\":\"ingredient_ingredient__info__2nXd9\",\"ingredient__text\":\"ingredient_ingredient__text__2TZQA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"modal_popup__2sn4l\",\"modal\":\"modal_modal__2IJ79\",\"popup__closeicon\":\"modal_popup__closeicon__OjrwG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__qkrcs\",\"app__constructor\":\"app_app__constructor__L2I7o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"column\":\"ingredient-type_column__2kwLX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__br2gS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"constructoritem__element\":\"constructor-item_constructoritem__element__yhw1Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order__conteiner\":\"order-details_order__conteiner__3CKvA\",\"order__closebutton\":\"order-details_order__closebutton__1zwZ_\"};"],"sourceRoot":""}