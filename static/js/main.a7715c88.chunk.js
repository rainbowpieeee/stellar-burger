(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{110:function(e,t,n){e.exports={orderDetails:"order-details_orderDetails__1lWq4"}},111:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__br2gS"}},113:function(e,t,n){e.exports={errorText:"error-text_errorText__2NNEv"}},114:function(e,t,n){e.exports={card__prics:"ingredient_card__prics__1orQT"}},115:function(e,t,n){e.exports={burgerIngredients:"burger-ingredients_burgerIngredients__1loa2"}},116:function(e,t,n){e.exports={main:"home_main__2ZWwt",mainColumn:"home_mainColumn__QA-CR"}},118:function(e,t,n){e.exports={ingredient:"ingredient_ingredient__3cu4K"}},119:function(e,t,n){e.exports={notFound:"not-found_notFound__24LHh"}},120:function(e,t,n){e.exports={orderInfo:"order-info_orderInfo__1x3TG"}},129:function(e,t,n){},14:function(e,t,n){e.exports={header:"app-header_header__3KCCX",headerContent:"app-header_headerContent__3rwi2",menu:"app-header_menu__3yxhK",menu__list:"app-header_menu__list__3jrzK",menu__item:"app-header_menu__item__366tE",account:"app-header_account__3BHAe",logo:"app-header_logo__VMhBG",linkHeader:"app-header_linkHeader__2HAXt",linkHeader__active:"app-header_linkHeader__active__30SNj"}},15:function(e,t,n){e.exports={ingredientDetails:"ingredient-details_ingredientDetails__3HrXQ",ingredientDetails__title:"ingredient-details_ingredientDetails__title__-eoIz",ingredientDetails__nutritionalValue:"ingredient-details_ingredientDetails__nutritionalValue__2sWE_",ingredientDetails__nutritionaValueItem:"ingredient-details_ingredientDetails__nutritionaValueItem__3dtr_"}},216:function(e,t,n){"use strict";n.r(t);var r,a,c=n(1),s=n.n(c),i=n(35),o=n.n(i),l=(n(129),n(12)),u=n.n(l),d=n(23),j=n(6),b=n(4),_=n(9),O=n(5),p=n(14),m=n.n(p),f=n(0),x=function(){var e=!!Object(_.j)({path:"/",exact:!0}),t=!!Object(_.j)("/profile"),n=!!Object(_.j)("/feed");return Object(f.jsx)("header",{className:"pt-4 pb-4 ".concat(m.a.header),children:Object(f.jsxs)("div",{className:m.a.headerContent,children:[Object(f.jsx)("nav",{className:"".concat(m.a.menu),children:Object(f.jsxs)("ul",{className:"".concat(m.a.menu__list),children:[Object(f.jsx)("li",{className:"pr-5 ".concat(m.a.menu__item),children:Object(f.jsxs)(O.c,{exact:!0,to:"/",className:m.a.linkHeader,activeClassName:m.a.linkHeader__active,children:[Object(f.jsx)(b.BurgerIcon,{type:e?"primary":"secondary"}),Object(f.jsx)("p",{className:"pl-2 text text_type_main-default",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]})}),Object(f.jsx)("li",{className:"pl-5 pr-5 ".concat(m.a.menu__item),children:Object(f.jsxs)(O.c,{to:"/feed",className:m.a.linkHeader,activeClassName:m.a.linkHeader__active,children:[Object(f.jsx)(b.ListIcon,{type:n?"primary":"secondary"}),Object(f.jsx)("p",{className:"pl-2 text text_type_main-default",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})})]})}),Object(f.jsx)("div",{className:m.a.logo,children:Object(f.jsx)(b.Logo,{})}),Object(f.jsx)("div",{className:m.a.account,children:Object(f.jsxs)(O.c,{to:"/profile",className:m.a.linkHeader,activeClassName:m.a.linkHeader__active,children:[Object(f.jsx)(b.ProfileIcon,{type:t?"primary":"secondary"}),Object(f.jsx)("p",{className:"pl-2 text text_type_main-default",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})},h=n(221),g=n(43),y=function(){return Object(g.b)()},v=g.c,N=n(54),I=n.n(N),E=n(110),C=n.n(E),S=n.p+"static/media/orderDone.6d4020a5.svg",T=function(e){var t=e.order;return Object(f.jsxs)("div",{className:"".concat(C.a.orderDetails," pt-20 pl-25 pr-25"),children:[Object(f.jsx)("h2",{className:"text text_type_digits-large pb-8",children:t}),Object(f.jsx)("p",{className:"pb-20 text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(f.jsx)("img",{className:"pb-15",src:S,alt:"\u0417\u0430\u043a\u0430\u0437 \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}),Object(f.jsx)("p",{className:"pb-2 text text_type_main-small",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(f.jsx)("p",{className:"pb-30 text text_type_main-small",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},R=n(55),w=n.n(R),k=n(111),D=n.n(k),L=function(e){var t=e.children,n=e.onClose;return Object(f.jsx)("div",{className:"".concat(D.a.overlay),onClick:n,children:t})},q=document.getElementById("modal"),P=function(e){var t=e.title,n=e.onClose,r=e.children;return Object(c.useEffect)((function(){var e=function(e){"Escape"===e.key&&n()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),o.a.createPortal(Object(f.jsx)(L,{onClose:n,children:Object(f.jsxs)("div",{className:w.a.popup,onClick:function(e){return e.stopPropagation()},children:[t&&Object(f.jsx)("h2",{className:"".concat(w.a.popup__title," text text_type_main-large pr-10 mb-10"),children:t}),r,Object(f.jsx)("div",{className:w.a.popup__close,onClick:n,children:Object(f.jsx)(b.CloseIcon,{type:"primary"})})]})}),q)},U=n(2),F=n(222),M=n(224),H=n(31),A=n.n(H),G=n(223),B=n(78),Q=n.n(B),z=function(e){var t=e.children,n=e.moveItem,r=e.index,a=e.id,s=Object(c.useRef)(null),i=Object(F.a)({accept:"constructorItem",collect:function(e){return{isHover:e.isOver()}},drop:function(e){if(s.current){var t=e.index,a=r;t!==a&&(n(t,a),e.index=a)}}}),o=Object(j.a)(i,2),l=o[0].isHover,u=o[1],d=Object(G.a)({type:"constructorItem",item:function(){return{id:a,index:r}}}),_=l?{outline:"3px solid #8b00ff",outlineOffset:"-3px"}:{};return(0,Object(j.a)(d,2)[1])(u(s)),Object(f.jsxs)("li",{ref:s,className:Q.a.burgerConstructorList__innerItem,children:[Object(f.jsx)(b.DragIcon,{type:"primary"}),Object(f.jsx)("div",{className:Q.a.wrapperConstructorElement,style:_,children:t})]})},W="ADD_INGREDIENT",J="ADD_BUN",V="DELETE_ITEM",K="REORDER_INGREDIENTS",X="SET_DEFAULT_VALUE_INGREDIENTS",Y="refresh_token",Z="access_token";function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(n=n||{}).expires;if("number"==typeof r&&r){var a=new Date;a.setTime(a.getTime()+1e3*r),r=n.expires=a}r&&r.toUTCString&&(n.expires=r.toUTCString());var c=e+"="+(t=encodeURIComponent(t));for(var s in n){c+="; "+s;var i=n[s];!0!==i&&(c+="="+i)}document.cookie=c}function ee(e){$(e,"",{expires:-1})}function te(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([$?*|{}\]\\^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function ne(e){var t=new Date,n=new Date(e.getTime());t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0);var r=new Intl.RelativeTimeFormat("ru",{numeric:"auto"}),a=Math.floor((t.getTime()-e.getTime())/1e3)/86400,c=null,s=n.getFullYear(),i=("0"+(n.getMonth()+1)).slice(-2),o=("0"+n.getDate()).slice(-2)+"."+i+"."+s;return a<7&&(c=r.format(-1*Math.floor(a),"days")),"".concat(c||o,", ").concat(function(e){var t=("0"+e.getMinutes()).slice(-2);return("0"+e.getHours()).slice(-2)+":"+t}(n)," i-GMT").concat(function(){var e=(new Date).getTimezoneOffset()/60;if(e>0)return"-".concat(Math.abs(e));if(e<0)return"+".concat(Math.abs(e));return e.toString()}())}(a=r||(r={})).done="done",a.pending="pending",a.created="created";var re,ae="https://norma.nomoreparties.space",ce="wss://norma.nomoreparties.space",se=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,!t.ok){e.next=5;break}return e.abrupt("return",n);case 5:return e.abrupt("return",n?Promise.reject(Object(U.a)(Object(U.a)({},n),{},{status:t.status})):Promise.reject({status:t.status}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(e){return fetch("".concat(ae,"/api/auth/token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}).then(se)},oe=function(e){return fetch("".concat(ae,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(U.a)({},e))}).then(se)},le=function(){return fetch("".concat(ae,"/api/auth/user"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+te(Z)}}).then(se)},ue=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=te(Y),r=null,!n){e.next=17;break}return e.prev=3,e.next=6,ie({token:n});case 6:return(a=e.sent).accessToken&&$(Z,a.accessToken.split("Bearer ")[1]),a.refreshToken&&$(Y,a.refreshToken),e.next=11,t();case 11:r=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),de="BURGER_INGREDIENTS_REQUEST",je="BURGER_INGREDIENTS_SUCCESS",be="BURGER_INGREDIENTS_FAILED",_e="INCREMENT_INGREDIENTS",Oe="INCREMENT_BUN",pe="DECREMENT_INGREDIENTS",me="RESET_QTY_INGREDIENTS",fe=function(){return function(e){e({type:de}),fetch("".concat(ae,"/api/ingredients")).then(se).then((function(t){var n;e((n=t.data,{type:je,payload:n}))})).catch((function(t){console.log(t),e({type:be})}))}},xe=n(80),he=n.n(xe),ge=function(){return Object(f.jsx)("div",{className:he.a.templateConstructorElement,children:Object(f.jsx)("div",{className:he.a.templateConstructorElement__row,children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"})})},ye=Object(c.memo)((function(e){var t=e.ingredientList,n=Object(c.useMemo)((function(){return t.filter((function(e){return"bun"!==e.type}))}),[t]),r=Object(c.useMemo)((function(){return t.filter((function(e){return"bun"===e.type}))}),[t]),a=Object(j.a)(r,1)[0],s=y(),i=Object(F.a)({accept:"ingredient",drop:function(e){var t;"bun"===e.type?(s((t=Object(U.a)(Object(U.a)({},e),{},{uuid:Object(M.a)()}),{type:J,payload:t})),s(function(e){return{type:Oe,payload:e}}(e))):(s(function(e){return{type:W,payload:e}}(Object(U.a)(Object(U.a)({},e),{},{uuid:Object(M.a)()}))),s(function(e){return{type:_e,payload:e}}(e)))}}),o=Object(j.a)(i,2)[1],l=Object(c.useCallback)((function(e){var t;s((t=e.uuid,{type:V,id:t})),s({type:pe,payload:e})}),[s]),u=Object(c.useCallback)((function(e,n){var r=t;"bun"===t[0].type&&(e+=1,n+=1);var a=t[e];r.splice(e,1),r.splice(n,0,a),s({type:K,payload:r})}),[t,s]);return Object(f.jsxs)("ul",{className:"pt-25 ".concat(A.a.burgerconstructorList),ref:o,children:[0===t.length?Object(f.jsx)("li",{className:A.a.burgerconstructorList__item,children:Object(f.jsx)(ge,{})}):null,a&&Object(f.jsx)("li",{className:A.a.burgerconstructorList__item,children:Object(f.jsx)(b.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(a.name," ").concat("(\u0432\u0435\u0440\u0445)"),price:a.price,thumbnail:a.image})}),Object(f.jsx)("ul",{className:"".concat(A.a.burgerconstructorList__inner," ").concat(0===t.length?A.a.burgerconstructorListOverflowHidden__inner:""),children:n.map((function(e,t){return Object(f.jsx)(z,{index:t,moveItem:u,id:e.uuid,children:Object(f.jsx)(b.ConstructorElement,{text:e.name,price:e.price,thumbnail:e.image,handleClose:function(){l(e)}})},e.uuid)}))}),a&&Object(f.jsx)("li",{className:A.a.burgerconstructorList__item,children:Object(f.jsx)(b.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(a.name," ").concat("(\u043d\u0438\u0437)"),price:a.price,thumbnail:a.image})})]})})),ve=ye,Ne="ORDER_REQUEST",Ie="ORDER_SUCCESS",Ee="ORDER_FAILED",Ce=function(e){return function(t){t({type:Ne}),function(e){return fetch("".concat(ae,"/api/orders"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+te(Z)},body:JSON.stringify({ingredients:e})}).then(se)}(e).then((function(e){t({type:Ie,payload:e})})).catch((function(e){console.log(e),t({type:Ee})}))}},Se=n(113),Te=n.n(Se),Re=function(e){var t=e.text;return Object(f.jsx)("div",{className:Te.a.errorText,children:Object(f.jsx)("p",{className:"text text_type_digits-medium",children:t})})},we={text:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437",count:3},ke=function(){var e=v((function(e){return e.burgerConstructor})).ingredients,t=v((function(e){return e.userInfo})).user,n=Object(_.g)(),r=v((function(e){return e.orderInfo})).orderRequest,a=v((function(e){return e.orderInfo})).success,s=Object(c.useState)(we),i=Object(j.a)(s,2),o=i[0],l=i[1],u=Object(c.useState)(!1),d=Object(j.a)(u,2),O=d[0],p=d[1],m=Object(c.useMemo)((function(){return e.reduce((function(e,t){return"bun"!==t.type?e+=t.price:e+=2*t.price}),0)}),[e]),x=y(),h=v((function(e){return e.burgerConstructor.ingredients.map((function(e){return e._id}))})),g=v((function(e){return e.orderInfo.order.number})),N=v((function(e){return e.orderInfo.orderFailed})),E=Object(c.useCallback)((function(){t?(p(!0),x(Ce(h))):n.push({pathname:"/login"})}),[x,n,h,t]);return Object(c.useEffect)((function(){var e;return r?(l({text:"\u0416\u0434\u0438\u0442\u0435",count:we.count}),e=setInterval((function(){l((function(e){return{count:0===e.count?we.count:e.count-1,text:0===e.count?"\u0416\u0434\u0438\u0442\u0435":e.text+"."}}))}),1e3)):l(we),function(){clearInterval(e)}}),[r]),Object(f.jsxs)("section",{className:"".concat(I.a.burgerConstructor," pl-4 pr-4"),children:[Object(f.jsx)(ve,{ingredientList:e}),N?Object(f.jsx)(Re,{text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u0430\u0437\u0430"}):null,Object(f.jsxs)("div",{className:I.a.burgerConstructor__total,children:[Object(f.jsx)("p",{className:"text text_type_digits-medium pr-2",children:m}),Object(f.jsx)(b.CurrencyIcon,{type:"primary"}),Object(f.jsx)("div",{className:"".concat(I.a.buttonOrder," pl-10"),children:Object(f.jsx)(b.Button,{disabled:!m||r,onClick:E,type:"primary",size:"large",children:o.text})})]}),a&&O&&Object(f.jsx)(P,{onClose:function(){p(!1),x({type:X}),x({type:me})},children:Object(f.jsx)(T,{order:g})})]})},De=n(81),Le=n.n(De),qe=n(114),Pe=n.n(qe),Ue=Object(c.memo)((function(e){var t=e.data,n=t.image,r=t.name,a=t.price,c=t.qty,s=Object(G.a)({type:"ingredient",item:t}),i=Object(j.a)(s,2)[1];return Object(f.jsxs)("div",{ref:i,children:[c&&Object(f.jsx)(b.Counter,{count:c,size:"default"}),Object(f.jsx)("img",{src:n,alt:r,className:"pl-4 pb-1 pr-4"}),Object(f.jsxs)("div",{className:Pe.a.card__prics,children:[Object(f.jsx)("p",{className:"text text_type_digits-default pb-1 pr-2",children:a}),Object(f.jsx)(b.CurrencyIcon,{type:"primary"})]}),Object(f.jsx)("p",{className:"pt-2 text text_type_main-default",children:r})]})})),Fe=Ue,Me=Object(c.memo)(Object(c.forwardRef)((function(e,t){var n=e.list,r=e.typeCard,a=e.title,s=Object(_.h)(),i=Object(c.useMemo)((function(){return n.filter((function(e){return e.type===r}))}),[n,r]);return Object(f.jsxs)("div",{ref:t,children:[Object(f.jsx)("h2",{className:"text text_type_main-medium pb-6",children:a}),Object(f.jsx)("ul",{className:"pl-4 pb-10 ".concat(Le.a.card__list),children:i.map((function(e){return Object(f.jsx)(O.b,{to:{pathname:"/ingredients/".concat(e._id),state:{background:s}},style:{textDecoration:"none",color:"#fff"},children:Object(f.jsx)("li",{className:Le.a.card__listItem,children:Object(f.jsx)(Fe,{data:e})},e._id)},e._id)}))})]})}))),He=Me,Ae=n(115),Ge=n.n(Ae),Be=function(){var e=Object(c.useState)("bun"),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useRef)(null),s=Object(c.useRef)(null),i=Object(c.useRef)(null),o="bun",l="sauce",u="main",d=v((function(e){return e.burgerIngredients})).burgerIngredients,_=Object(c.useCallback)((function(e,t){var n;r(e),null===t||void 0===t||null===(n=t.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})}),[]),O=Object(c.useCallback)((function(e){if(null!==a.current&&null!==s.current){var t=e.target.scrollTop,n=a.current.offsetTop,c=s.current.offsetTop;r(t+40<=n?o:t-170<=c?l:u)}}),[]);return Object(f.jsxs)("section",{children:[Object(f.jsx)("h1",{className:"text text_type_main-large pt-10 pb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(f.jsxs)("div",{style:{display:"flex"},children:[Object(f.jsx)(b.Tab,{value:o,active:n===o,onClick:function(){_(o,a)},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(f.jsx)(b.Tab,{value:l,active:n===l,onClick:function(){_(l,s)},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(f.jsx)(b.Tab,{value:u,active:n===u,onClick:function(){_(u,i)},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(f.jsxs)("div",{className:"".concat(Ge.a.burgerIngredients," mt-10"),onScroll:O,children:[Object(f.jsx)(He,{list:d,typeCard:"bun",title:"\u0411\u0443\u043b\u043a\u0438",ref:a}),Object(f.jsx)(He,{list:d,typeCard:"sauce",title:"\u0421\u043e\u0443\u0441\u044b",ref:s}),Object(f.jsx)(He,{list:d,typeCard:"main",title:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",ref:i})]})]})},Qe=n(122),ze=n(116),We=n.n(ze),Je=function(){var e=v((function(e){return e.burgerIngredients})).burgerIngredientsFailed;return Object(f.jsx)("main",{className:We.a.main,children:Object(f.jsx)(h.a,{backend:Qe.a,children:!0!==e?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Be,{}),Object(f.jsx)(ke,{})]}):Object(f.jsx)(Re,{text:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"})})})},Ve=n(10),Ke="REGISTER_REQUEST",Xe="REGISTER_REQUEST_SUCCESS",Ye="REGISTER_REQUEST_FAILED",Ze="GET_CODE_RESET_PASSWORD_REQUEST",$e="GET_CODE_RESET_PASSWORD_SUCCESS",et="GET_CODE_RESET_PASSWORD_FAILED",tt="CONFIRM_RESET_PASSWORD_REQUEST",nt="CONFIRM_RESET_PASSWORD_SUCCESS",rt="CONFIRM_RESET_PASSWORD_FAILED",at="LOGIN_REQUEST",ct="LOGIN_REQUEST_FAILED",st="LOGIN_REQUEST_SUCCESS",it="LOGOUT_REQUEST",ot="LOGOUT_REQUEST_FAILED",lt="LOGOUT_REQUEST_SUCCESS",ut="GET_PROFILE_REQUEST",dt="GET_PROFILE_REQUEST_FAILED",jt="GET_PROFILE_REQUEST_SUCCESS",bt=function(){return{type:dt}},_t=function(e){return{type:jt,payload:e}},Ot=function(e){return function(t){t({type:Ke}),function(e){return fetch("".concat(ae,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(U.a)({},e))}).then(se)}(e).then((function(e){t({type:Xe,payload:e}),e.accessToken&&$(Z,e.accessToken.split("Bearer ")[1]),e.refreshToken&&$(Y,e.refreshToken)})).catch((function(e){console.log(e),t({type:Ye})}))}},pt=function(e){return function(t){t({type:Ze}),function(e){return fetch("".concat(ae,"/api/password-reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(U.a)({},e))}).then(se)}(e).then((function(e){t({type:$e,payload:e})})).catch((function(e){console.log(e),t({type:et})}))}},mt=function(e,t){return function(n){n({type:tt}),function(e){return fetch("".concat(ae,"/api/password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(U.a)({},e))}).then(se)}(e).then((function(e){n({type:nt,payload:e}),t&&t()})).catch((function(e){console.log(e),n({type:rt})}))}},ft=function(e){return function(t){t({type:"UPDATE_PROFILE_REQUEST"}),function(e){var t=e.email,n=e.password,r=e.name;return fetch("".concat(ae,"/api/auth/user"),{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+te(Z)},body:JSON.stringify({email:t,password:n,name:r})}).then(se)}(e).then((function(e){t({type:"UPDATE_PROFILE_REQUEST_SUCCESS",payload:e})})).catch((function(e){console.log(e),t({type:"UPDATE_PROFILE_REQUEST_FAILED"})}))}},xt=function(e){return function(t){var n;t({type:it}),(n=e,fetch("".concat(ae,"/api/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})}).then(se)).then((function(n){t({type:lt,payload:n}),ee(Z),ee(Y),e.afterLogout&&e.afterLogout()})).catch((function(e){console.log(e),t({type:ot})}))}},ht=n(83),gt=n.n(ht),yt=function(){var e,t=y(),n=v((function(e){return e.userInfo.user})),r=Object(_.h)(),a=Object(c.useState)({email:"",password:""}),s=Object(j.a)(a,2),i=s[0],o=s[1],l=Object(c.useCallback)((function(e){var t=e.target,n=t.name,r=t.value;o((function(e){return Object(U.a)(Object(U.a)({},e),{},Object(Ve.a)({},n,r))}))}),[]);return n?Object(f.jsx)(_.a,{to:(null===(e=r.state)||void 0===e?void 0:e.from)||"/"}):Object(f.jsxs)("main",{className:gt.a.login,children:[Object(f.jsx)("h2",{className:"text text_type_main-medium pb-6",children:"\u0412\u0445\u043e\u0434"}),Object(f.jsx)("form",{className:gt.a.form,onSubmit:function(e){var n;e.preventDefault(),t((n=i,function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:at}),e.next=3,oe(n).then((function(e){t({type:st,payload:e}),e.accessToken&&$(Z,e.accessToken.split("Bearer ")[1]),e.refreshToken&&$(Y,e.refreshToken)})).catch((function(e){console.log(e),t({type:ct})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:Object(f.jsxs)("fieldset",{className:"fieldset",children:[Object(f.jsx)(b.EmailInput,{onChange:l,value:i.email,name:"email"}),Object(f.jsx)(b.PasswordInput,{onChange:l,value:i.password,name:"password"}),Object(f.jsx)("div",{className:"button pb-20",children:Object(f.jsx)(b.Button,{type:"primary",size:"medium",htmlType:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})})]})}),Object(f.jsxs)("ul",{className:"registrationNav",children:[Object(f.jsxs)("li",{className:"registrationNav__item",children:[Object(f.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u044b \u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(f.jsx)(O.b,{className:"link",to:"/register",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(f.jsxs)("li",{className:"registrationNav__item",children:[Object(f.jsx)("p",{className:"text text_type_main-default",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(f.jsx)(O.b,{className:"link",to:"/forgot-password",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})},vt=n(84),Nt=n.n(vt),It=function(){var e=y(),t=v((function(e){return e.userInfo.registerInfo})),n=t.request,r=v((function(e){return e.userInfo.user})),a=Object(c.useState)({email:"",name:"",password:""}),s=Object(j.a)(a,2),i=s[0],o=s[1],l=Object(c.useCallback)((function(e){var t=e.target,n=t.name,r=t.value;o((function(e){return Object(U.a)(Object(U.a)({},e),{},Object(Ve.a)({},n,r))}))}),[]);return r?Object(f.jsx)(_.a,{to:{pathname:"/"}}):Object(f.jsxs)("main",{className:Nt.a.register,children:[Object(f.jsx)("h2",{className:"text text_type_main-medium pb-6",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(f.jsx)("form",{className:Nt.a.form,onSubmit:function(t){t.preventDefault(),e(Ot(i)),o({email:"",name:"",password:""})},children:Object(f.jsxs)("fieldset",{className:"fieldset",children:[Object(f.jsx)(b.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:l,value:i.name,name:"name"}),Object(f.jsx)(b.EmailInput,{onChange:l,value:i.email,name:"email"}),Object(f.jsx)(b.PasswordInput,{onChange:l,value:i.password,name:"password"}),Object(f.jsx)("div",{className:"button pb-20",children:Object(f.jsx)(b.Button,{type:"primary",size:"medium",children:n?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f...":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})}),Object(f.jsx)("ul",{className:"registrationNav",children:Object(f.jsxs)("li",{className:"registrationNav__item",children:[Object(f.jsx)("p",{className:"text text_type_main-default",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(f.jsx)(O.b,{className:"link",to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})},Et=n(85),Ct=n.n(Et),St=function(){var e=v((function(e){return e.userInfo.user})),t=y(),n=Object(_.h)(),r=Object(_.g)(),a=Object(c.useState)({email:""}),s=Object(j.a)(a,2),i=s[0],o=s[1],l=Object(c.useCallback)((function(e){var t=e.target,n=t.name,r=t.value;o((function(e){return Object(U.a)(Object(U.a)({},e),{},Object(Ve.a)({},n,r))}))}),[]);return e?Object(f.jsx)(_.a,{to:{pathname:"/"}}):Object(f.jsxs)("main",{className:Ct.a.forgotPassword,children:[Object(f.jsx)("h2",{className:"text text_type_main-medium pb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(f.jsx)("form",{className:Ct.a.form,onSubmit:function(e){e.preventDefault(),t(pt(i)),r.replace({pathname:"/reset-password",state:{from:n}})},children:Object(f.jsxs)("fieldset",{className:"fieldset",children:[Object(f.jsx)(b.Input,{type:"email",value:i.email,name:"email",onChange:l,placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail"}),Object(f.jsx)("div",{className:"button pb-20",children:Object(f.jsx)(b.Button,{type:"primary",size:"medium",htmlType:"submit",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]})}),Object(f.jsx)("ul",{className:"registrationNav",children:Object(f.jsxs)("li",{className:"registrationNav__item",children:[Object(f.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(f.jsx)(O.b,{className:"link",to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})},Tt=n(86),Rt=n.n(Tt),wt=function(){var e,t=v((function(e){return e.userInfo.user})),n=y(),r=Object(_.h)(),a=Object(_.g)(),s=Object(c.useState)(!1),i=Object(j.a)(s,2),o=i[0],l=i[1],u=Object(c.useState)({password:"",token:""}),d=Object(j.a)(u,2),p=d[0],m=d[1],x=Object(c.useCallback)((function(e){var t=e.target,n=t.name,r=t.value;m((function(e){return Object(U.a)(Object(U.a)({},e),{},Object(Ve.a)({},n,r))}))}),[]);return(null===(e=r.state)||void 0===e?void 0:e.from)?t?Object(f.jsx)(_.a,{to:{pathname:"/"}}):Object(f.jsxs)("main",{className:Rt.a.resetPassword,children:[Object(f.jsx)("h2",{className:"text text_type_main-medium pb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(f.jsx)("form",{className:Rt.a.form,onSubmit:function(e){e.preventDefault(),n(mt(p,(function(){a.replace({pathname:"/login"})})))},children:Object(f.jsxs)("fieldset",{className:"fieldset",children:[Object(f.jsx)(b.Input,{type:o?"text":"password",name:"password",value:p.password,onChange:x,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",icon:"ShowIcon",onIconClick:function(){l((function(e){return!e}))}}),Object(f.jsx)(b.Input,{type:"text",name:"token",value:p.token,onChange:x,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430"}),Object(f.jsx)("div",{className:"button pb-20",children:Object(f.jsx)(b.Button,{type:"primary",size:"medium",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})}),Object(f.jsx)("ul",{className:"registrationNav",children:Object(f.jsxs)("li",{className:"registrationNav__item",children:[Object(f.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(f.jsx)(O.b,{className:"link",to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})})]}):Object(f.jsx)(_.a,{to:"/forgot-password"})},kt=n(36),Dt=n.n(kt),Lt=n(27),qt=n.n(Lt),Pt=function(e){return e?qt.a.link__active+" "+qt.a.link:qt.a.link},Ut=function(){var e=y(),t=Object(_.g)(),n=Object(c.useCallback)(function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e(xt(te(Y)));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,t]);return Object(f.jsxs)("ul",{className:"".concat(qt.a.sidebarMenu),children:[Object(f.jsx)("li",{className:qt.a.sidebarMenu__item,children:Object(f.jsx)(O.c,{exact:!0,className:Pt,to:"/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(f.jsx)("li",{className:qt.a.sidebarMenu__item,children:Object(f.jsx)(O.c,{exact:!0,className:Pt,to:"/profile/orders",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(f.jsx)("li",{className:qt.a.sidebarMenu__item,children:Object(f.jsx)(O.c,{exact:!0,className:Pt,to:"/logout",onClick:n,children:"\u0412\u044b\u0445\u043e\u0434"})})]})},Ft=function(){var e=y(),t=Object(c.useRef)(null),n=Object(c.useRef)(null),r=Object(c.useRef)(null),a=v((function(e){var t;return null===(t=e.userInfo.user)||void 0===t?void 0:t.email}))||"",s=v((function(e){var t;return null===(t=e.userInfo.user)||void 0===t?void 0:t.name}))||"",i=Object(c.useState)({email:{value:a,disabled:!0},name:{value:s,disabled:!0},password:{value:"",disabled:!0}}),o=Object(j.a)(i,2),l=o[0],u=o[1],d=Object(c.useRef)(l);d.current=l,Object(c.useEffect)((function(){u({email:{value:a,disabled:!0},name:{value:s,disabled:!0},password:{value:"",disabled:!0}})}),[a,s]);var _=a!==l.email.value||s!==l.name.value||!!l.password.value,O=Object(c.useCallback)((function(e){var t=e.target.value,n=e.target.name;u((function(e){return Object(U.a)(Object(U.a)({},e),{},Object(Ve.a)({},n,Object(U.a)(Object(U.a)({},e[n]),{},{value:t})))}))}),[]),p=Object(c.useCallback)((function(e){u((function(t){return Object(U.a)(Object(U.a)({},t),{},Object(Ve.a)({},e,Object(U.a)(Object(U.a)({},t[e]),{},{disabled:!t[e].disabled})))}))}),[]),m=Object(c.useCallback)((function(e){u((function(t){return Object(U.a)(Object(U.a)({},t),{},Object(Ve.a)({},e,Object(U.a)(Object(U.a)({},t[e]),{},{disabled:!0})))}))}),[]);Object(c.useEffect)((function(){var e,a,c;l.name.disabled||null===(e=r.current)||void 0===e||e.focus(),l.email.disabled||null===(a=t.current)||void 0===a||a.focus(),l.password.disabled||null===(c=n.current)||void 0===c||c.focus()}),[l]);var x=Object(c.useCallback)((function(t){t.preventDefault(),e(ft({email:d.current.email.value,password:d.current.password.value,name:d.current.name.value}))}),[e]),h=Object(c.useCallback)((function(e){e.preventDefault(),u({email:{value:a,disabled:!0},name:{value:s,disabled:!0},password:{value:"",disabled:!0}})}),[a,s]);return Object(f.jsx)("main",{className:Dt.a.profile,children:Object(f.jsx)("div",{className:Dt.a.profile__container,children:Object(f.jsxs)("div",{className:Dt.a.profile__wrapper,children:[Object(f.jsxs)("div",{className:"sidebarLeft",children:[Object(f.jsx)("div",{className:"sidebarLeft__wrapper pb-20",children:Object(f.jsx)(Ut,{})}),Object(f.jsx)("p",{className:"text text_type_main-default text_color_inactive aboutPage",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(f.jsx)("form",{className:"".concat(Dt.a.form," ").concat(Dt.a.profileForm),onSubmit:x,children:Object(f.jsxs)("fieldset",{className:"fieldset",children:[Object(f.jsx)(b.Input,{type:"text",name:"name",value:l.name.value,onChange:O,placeholder:"\u0418\u043c\u044f",icon:"EditIcon",disabled:l.name.disabled,onIconClick:function(){p("name")},ref:r,onBlur:function(){m("name")}}),Object(f.jsx)(b.Input,{type:"text",name:"email",value:l.email.value,onChange:O,placeholder:"\u041b\u043e\u0433\u0438\u043d",icon:"EditIcon",disabled:l.email.disabled,onIconClick:function(){p("email")},ref:t,onBlur:function(){m("email")}}),Object(f.jsx)(b.Input,{type:"password",name:"password",value:l.password.value,onChange:O,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:"EditIcon",disabled:l.password.disabled,onIconClick:function(){p("password")},ref:n,onBlur:function(){m("password")}}),_&&Object(f.jsxs)("div",{className:"button button__group",children:[Object(f.jsx)(b.Button,{type:"primary",size:"medium",htmlType:"reset",onClick:h,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(f.jsx)(b.Button,{type:"primary",size:"medium",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})]})})})},Mt=n(117),Ht=n(53),At=["children","user","isUserLoaded"],Gt=function(e){var t=e.children,n=e.user,r=e.isUserLoaded,a=Object(Ht.a)(e,At);return r?Object(f.jsx)(_.b,Object(U.a)(Object(U.a)({},a),{},{render:function(e){var r=e.location;return n?t:Object(f.jsx)(_.a,{to:{pathname:"/login",state:{from:r}}})}})):null},Bt=n(118),Qt=n.n(Bt),zt=n(15),Wt=n.n(zt),Jt=function(){var e=Object(_.i)().id,t=v((function(t){return t.burgerIngredients.burgerIngredients.find((function(t){return t._id===e}))}));return Object(f.jsxs)("div",{className:Wt.a.ingredientDetails,children:[Object(f.jsx)("img",{className:"pb-6",src:null===t||void 0===t?void 0:t.image_large,alt:null===t||void 0===t?void 0:t.name}),Object(f.jsx)("p",{className:"text text_type_main-medium pb-8",children:null===t||void 0===t?void 0:t.name}),Object(f.jsxs)("ul",{className:Wt.a.ingredientDetails__nutritionalValue,children:[Object(f.jsxs)("li",{className:Wt.a.ingredientDetails__nutritionaValueItem,children:[Object(f.jsx)("p",{className:"text text_type_main-default ".concat(Wt.a.ingredientDetails__nutritionaName),children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(f.jsx)("p",{className:"".concat(Wt.a.ingredientDetails__nutritionaCount," text text_type_digits-default "),children:null===t||void 0===t?void 0:t.calories})]}),Object(f.jsxs)("li",{className:Wt.a.ingredientDetails__nutritionaValueItem,children:[Object(f.jsx)("p",{className:"text text_type_main-default ".concat(Wt.a.ingredientDetails__nutritionaName),children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(f.jsx)("p",{className:"".concat(Wt.a.ingredientDetails__nutritionaCount," text text_type_digits-default "),children:null===t||void 0===t?void 0:t.proteins})]}),Object(f.jsxs)("li",{className:Wt.a.ingredientDetails__nutritionaValueItem,children:[Object(f.jsx)("p",{className:"text text_type_main-default ".concat(Wt.a.ingredientDetails__nutritionaName),children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(f.jsx)("p",{className:"".concat(Wt.a.ingredientDetails__nutritionaCount," text text_type_digits-default "),children:null===t||void 0===t?void 0:t.fat})]}),Object(f.jsxs)("li",{className:Wt.a.ingredientDetails__nutritionaValueItem,children:[Object(f.jsx)("p",{className:"text text_type_main-default ".concat(Wt.a.ingredientDetails__nutritionaName),children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(f.jsx)("p",{className:"".concat(Wt.a.ingredientDetails__nutritionaCount," text text_type_digits-default "),children:null===t||void 0===t?void 0:t.carbohydrates})]})]})]})},Vt=function(){return Object(f.jsx)("main",{className:Qt.a.ingredient,children:Object(f.jsx)(Jt,{})})},Kt=n(119),Xt=n.n(Kt),Yt=function(){return Object(f.jsx)("main",{className:Xt.a.notFound,children:Object(f.jsx)("h2",{children:"not found 404"})})},Zt=n(25),$t=n.n(Zt),en=n(87),tn=n.n(en),nn=function(e){var t=e.title,n=e.list,r=e.colorTextList,a=r?{color:r}:{};return Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{className:"text text_type_main-medium mb-6",children:t}),Object(f.jsx)("ul",{className:"text text_type_digits-default ".concat(tn.a.statusList),children:n.map((function(e,t){return Object(f.jsx)("li",{style:a,className:"".concat(tn.a.statusList__item),children:e},t)}))})]})},rn=n(13),an=n(88),cn=n.n(an),sn=function(e){var t=e.src,n=e.alt,r=e.more,a=r?{opacity:"0.6"}:{};return Object(f.jsxs)("div",{style:{},children:[Object(f.jsx)("img",{className:cn.a.IconIngredient__img,src:t,alt:n,style:a}),r&&Object(f.jsxs)("p",{className:"".concat(cn.a.IconIngredient__text," text text_type_main-default"),children:["+",r]})]})},on=(re={},Object(Ve.a)(re,r.done,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"),Object(Ve.a)(re,r.pending,"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"),Object(Ve.a)(re,r.created,"\u0421\u043e\u0437\u0434\u0430\u043d"),re),ln=function(e){var t=e.status,n={};switch(t){case r.done:n={color:"#00CCCC"};break;case r.created:n={color:"#4C4CFF"};break;default:n={color:"#FFF"}}return Object(f.jsx)("p",{style:n,className:"mb-15 text text_type_main-default",children:on[t]})},un=n(22),dn=n.n(un),jn=Object(c.memo)((function(e){var t=e.orderNameBurger,n=e.orderDateTime,r=e.orderNumber,a=e.idListIngredient,s=e.onlyUniqueIcon,i=e.maxQuantityIcon,o=e.orderStatus,l=new Date(n),u=v((function(e){return e.burgerIngredients.burgerIngredients})),d=Object(c.useMemo)((function(){return(s?Array.from(new Set(Object(rn.a)(a))):a).map((function(e){return u.find((function(t){return e===t._id}))}))}),[a,s,u]),j=a.reduce((function(e,t){var n=u.find((function(e){return e._id===t}));return e+("bun"===(null===n||void 0===n?void 0:n.type)?2*(null===n||void 0===n?void 0:n.price):null===n||void 0===n?void 0:n.price)}),0),_=Object(f.jsx)("ul",{className:dn.a.cardOrder__listIngredients,children:d.slice(0,i).map((function(e,t){return Object(f.jsx)("li",{className:dn.a.cardOrder__listIngredientItem,style:{zIndex:i-t,right:16*t,position:"relative"},children:Object(f.jsx)(sn,{src:null===e||void 0===e?void 0:e.image_mobile,alt:null===e||void 0===e?void 0:e.name,more:t===i-1?d.length-i:null})},t)}))});return Object(f.jsx)("div",{className:dn.a.cardOrder,children:Object(f.jsxs)("div",{className:dn.a.cardOrder_wrapper,children:[Object(f.jsxs)("div",{className:dn.a.cardOrder__info,children:[Object(f.jsxs)("p",{className:"text text_type_digits-default ".concat(dn.a.cardOrder__orderNumber),children:["#",r]}),Object(f.jsx)("p",{className:"text text_type_main-default text_color_inactive ".concat(dn.a.cardOrder__dateNumber),children:ne(l)})]}),Object(f.jsx)("p",{className:"text text_type_main-medium ".concat(dn.a.cardOrder__name),children:t}),o&&Object(f.jsx)(ln,{status:o}),Object(f.jsxs)("div",{className:dn.a.cardOrder__orderDetails,children:[_,Object(f.jsxs)("div",{className:dn.a.cardOrder__total,children:[Object(f.jsx)("p",{className:"text text_type_digits-default pr-2",children:j.toString()}),Object(f.jsx)(b.CurrencyIcon,{type:"primary"})]})]})]})})})),bn=jn,_n="FEED_CONNECTION_INIT",On="FEED_CONNECTION_CLOSE",pn="FEED_CONNECTION_SUCCESS",mn="FEED_CONNECTION_ERROR",fn="FEED_CONNECTION_CLOSED",xn="FEED_GET_MESSAGE",hn=function(e){return{type:_n,payload:e}},gn=function(){return{type:On}},yn=function(){var e=Object(_.h)(),t=y();Object(c.useEffect)((function(){return t(hn("".concat(ce,"/orders/all"))),function(){t(gn())}}),[t]);var n=v((function(e){return e.feed.total})),a=v((function(e){return e.feed.totalToday})),s=v((function(e){return e.feed.orders})),i=Object(c.useMemo)((function(){return s.filter((function(e){return e.status===r.done})).slice(0,10).map((function(e){return e.number.toString()}))}),[s]),o=Object(c.useMemo)((function(){return s.filter((function(e){return e.status===r.pending})).slice(0,10).map((function(e){return e.number.toString()}))}),[s]);return Object(f.jsx)("main",{className:$t.a.feedPage,children:Object(f.jsxs)("div",{className:$t.a.feedPage__wrapper,children:[Object(f.jsx)("h2",{className:"text text_type_main-large pt-10 pb-5",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(f.jsxs)("div",{className:$t.a.feedPage__content,children:[Object(f.jsx)("section",{children:Object(f.jsx)("ul",{className:$t.a.feedList,children:s.map((function(t,n){return Object(f.jsx)("li",{className:$t.a.feedList__item,children:Object(f.jsx)(O.b,{to:{pathname:"/feed/".concat(t.number),state:{background:e}},style:{textDecoration:"none",color:"#fff"},children:Object(f.jsx)(bn,{orderNameBurger:t.name,orderNumber:t.number,orderDateTime:t.createdAt,idListIngredient:t.ingredients,onlyUniqueIcon:!0,maxQuantityIcon:5})},t.number)},n)}))})}),Object(f.jsxs)("section",{className:"feedInfo",children:[Object(f.jsxs)("div",{className:$t.a.feedStatusLists,children:[Object(f.jsx)(nn,{title:"\u0413\u043e\u0442\u043e\u0432\u044b:",list:i,colorTextList:"#00CCCC"}),Object(f.jsx)(nn,{title:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:",list:o})]}),Object(f.jsxs)("div",{className:$t.a.orderAllTime,children:[Object(f.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(f.jsx)("p",{className:"text text_type_digits-large textShadow",children:n})]}),Object(f.jsxs)("div",{className:$t.a.orderToday,children:[Object(f.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(f.jsx)("p",{className:"text text_type_digits-large textShadow",children:a})]})]})]})]})})},vn=n(56),Nn=n.n(vn),In=function(e){var t=e.list;return Object(f.jsx)("ul",{className:Nn.a.orderList,children:t.map((function(e,t){return Object(f.jsxs)("li",{className:Nn.a.orderList__item,children:[Object(f.jsx)(sn,{src:e.image_mobile}),Object(f.jsx)("p",{className:"pl-4 text text_type_main-default",children:e.name}),Object(f.jsxs)("div",{className:Nn.a.orderList__total,children:[Object(f.jsxs)("p",{className:"text text_type_digits-default",children:[e.qty?e.qty:1," x ",e.price]}),Object(f.jsx)(b.CurrencyIcon,{type:"primary"})]})]},t)}))})},En=n(44),Cn=n.n(En),Sn=function(){var e,t=Object(_.h)(),n=Object(_.j)({path:"/:feed/:number",exact:!0}),r=Object(_.i)().number,a=v((function(e){return e.myOrders.orders})),s=v((function(e){return e.feed.orders})),i=v((function(e){return e.burgerIngredients.burgerIngredients})),o=function(e,t){return e.find((function(e){return e.number===t}))},l=o(n?s:a,parseInt(r)),u=new Date(null===l||void 0===l?void 0:l.createdAt),d=null===l||void 0===l?void 0:l.ingredients.reduce((function(e,t){var n=i.find((function(e){return e._id===t}));return e+("bun"===(null===n||void 0===n?void 0:n.type)?2*(null===n||void 0===n?void 0:n.price):null===n||void 0===n?void 0:n.price)}),0),j=Object(c.useMemo)((function(){return null===l||void 0===l?void 0:l.ingredients.map((function(e){return i.find((function(t){return e===t._id}))}))}),[l,i]),O=new Map;return null===j||void 0===j||j.forEach((function(e){e&&(O.has(e._id)?O.get(e._id).qty++:"bun"===e.type?O.set(e._id,Object.assign(e,{qty:2})):O.set(e._id,Object.assign(e,{qty:1})))})),l?Object(f.jsxs)("div",{style:{maxWidth:640},children:[Object(f.jsxs)("div",{className:Cn.a.orderInfo__header,children:[!(null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.background)&&Object(f.jsxs)("p",{className:"mb-10 text text_type_digits-default",children:["#",null===l||void 0===l?void 0:l.number]}),Object(f.jsx)("p",{className:"mb-3 text text_type_main-medium",children:null===l||void 0===l?void 0:l.name})]}),Object(f.jsxs)("div",{className:Cn.a.orderInfo__main,children:[Object(f.jsx)(ln,{status:l.status}),Object(f.jsx)("p",{className:"mb-6 text text_type_main-medium",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(f.jsx)(In,{list:Array.from(O.values())})]}),Object(f.jsxs)("div",{className:Cn.a.orderInfo__footer,children:[Object(f.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:ne(u)}),Object(f.jsxs)("div",{className:Cn.a.orderInfo__total,children:[Object(f.jsx)("p",{className:"mr-2 text text_type_digits-default",children:d}),Object(f.jsx)(b.CurrencyIcon,{type:"primary"})]})]})]}):Object(f.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})},Tn="MY_ORDERS_CONNECTION_INIT",Rn="MY_ORDERS_CONNECTION_CLOSE",wn="MY_ORDERS_CONNECTION_SUCCESS",kn="MY_ORDERS_CONNECTION_ERROR",Dn="MY_ORDERS_CONNECTION_CLOSED",Ln="MY_ORDERS_GET_MESSAGE",qn=function(e){return{type:Tn,payload:e}},Pn=function(){return{type:Rn}},Un=n(120),Fn=n.n(Un),Mn=function(){var e=y(),t=v((function(e){return e.userInfo.user}));return Object(c.useEffect)((function(){return e(hn("".concat(ce,"/orders/all"))),t&&e(qn("".concat(ce,"/orders?token=").concat(te(Z)))),function(){e(gn()),t&&e(Pn())}}),[e]),Object(f.jsx)("main",{className:Fn.a.orderInfo,children:Object(f.jsx)(Sn,{})})},Hn=n(37),An=n.n(Hn),Gn=function(){var e=Object(_.h)(),t=y();Object(c.useEffect)((function(){return t(qn("".concat(ce,"/orders?token=").concat(te(Z)))),function(){t(Pn())}}),[t]);var n=v((function(e){return e.myOrders.orders}));return Object(f.jsx)("main",{className:An.a.orderHistory,children:Object(f.jsx)("div",{className:An.a.orderHistory__container,children:Object(f.jsxs)("div",{className:An.a.orderHistory__wrapper,children:[Object(f.jsxs)("div",{className:"sidebarLeft",children:[Object(f.jsx)("div",{className:"sidebarLeft__wrapper pb-20",children:Object(f.jsx)(Ut,{})}),Object(f.jsx)("p",{className:"text text_type_main-default text_color_inactive aboutPage",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]}),Object(f.jsx)("section",{children:Object(f.jsx)("ul",{className:An.a.orderHistoryList,children:n.slice().reverse().map((function(t){return Object(f.jsx)("li",{className:An.a.orderHistoryList__item,children:Object(f.jsx)(O.b,{to:{pathname:"/profile/orders/".concat(t.number),state:{background:e}},style:{textDecoration:"none",color:"#fff"},children:Object(f.jsx)(bn,{orderNameBurger:t.name,orderNumber:t.number,orderDateTime:t.createdAt,orderStatus:t.status,idListIngredient:t.ingredients,onlyUniqueIcon:!0,maxQuantityIcon:5})},t.number)},Object(M.a)())}))})})]})})})},Bn=function(){var e,t,n=y(),r=v((function(e){return e.userInfo.user})),a=Object(c.useState)(!1),s=Object(j.a)(a,2),i=s[0],o=s[1],l=Object(_.h)(),b=Object(_.g)(),O=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(fe());case 2:return e.next=4,n(function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ut}),e.prev=1,e.next=4,le();case 4:return n=e.sent,t(_t(n)),e.abrupt("return",n);case 9:if(e.prev=9,e.t0=e.catch(1),403!==e.t0.status||"jwt expired"!==e.t0.message){e.next=24;break}return e.prev=12,e.next=15,ue(le);case 15:r=e.sent,t(_t(r)),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(12),t(bt());case 22:e.next=25;break;case 24:t(bt());case 25:case"end":return e.stop()}}),e,null,[[1,9],[12,19]])})));return function(t){return e.apply(this,arguments)}}());case 4:o(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){O(),Object(Mt.setInterval)((function(){var e;n((e=te(Y),function(t){t({type:"REFRESH_TOKEN_REQUEST"}),ie(e).then((function(e){t({type:"REFRESH_TOKEN_REQUEST_SUCCESS",payload:e}),e.accessToken&&$(Z,e.accessToken.split("Bearer ")[1]),e.refreshToken&&$(Y,e.refreshToken)})).catch((function(e){console.log(e),t({type:"REFRESH_TOKEN_REQUEST_FAILED"})}))}))}),12e5)}),[]);var p=Object(c.useCallback)((function(){b.goBack()}),[b]),m="PUSH"===b.action&&l.state&&l.state.background,h=null===(e=Object(_.j)(["/feed/:number","/profile/orders/:number"]))||void 0===e||null===(t=e.params)||void 0===t?void 0:t.number;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x,{}),Object(f.jsxs)(_.d,{location:m||l,children:[Object(f.jsx)(_.b,{path:"/",exact:!0,component:Je}),Object(f.jsx)(_.b,{path:"/login",component:yt}),Object(f.jsx)(_.b,{path:"/register",component:It}),Object(f.jsx)(_.b,{path:"/forgot-password",component:St}),Object(f.jsx)(_.b,{path:"/reset-password",component:wt}),Object(f.jsx)(Gt,{path:"/profile",exact:!0,user:r,isUserLoaded:i,children:Object(f.jsx)(Ft,{})}),Object(f.jsx)(_.b,{path:"/ingredients/:id",component:Vt}),Object(f.jsx)(_.b,{path:"/feed/:number",component:Mn}),Object(f.jsx)(_.b,{path:"/feed",component:yn}),Object(f.jsx)(Gt,{path:"/profile/orders",exact:!0,user:r,isUserLoaded:i,children:Object(f.jsx)(Gn,{})}),Object(f.jsx)(Gt,{path:"/profile/orders/:number",exact:!0,user:r,isUserLoaded:i,children:Object(f.jsx)(Mn,{})}),Object(f.jsx)(_.b,{children:Object(f.jsx)(Yt,{})})]}),m&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(_.b,{path:"/feed/:number",children:Object(f.jsx)(P,{onClose:p,title:"#".concat(h),children:Object(f.jsx)(Sn,{})})}),Object(f.jsx)(Gt,{path:"/profile/orders/:number",exact:!0,user:r,isUserLoaded:i,children:Object(f.jsx)(P,{onClose:p,title:"#".concat(h),children:Object(f.jsx)(Sn,{})})}),Object(f.jsx)(_.b,{path:"/ingredients/:id",children:Object(f.jsx)(P,{onClose:p,title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",children:Object(f.jsx)(Jt,{})})})]})]})},Qn=n(26),zn={burgerIngredients:[],burgerIngredientsRequest:!1,burgerIngredientsFailed:!1},Wn={ingredients:[]},Jn="SET_INGREDIENT_DETAIL",Vn="INIT_INGREDIENT_DETAIL",Kn={calories:null,carbohydrates:null,fat:null,image:null,image_large:null,image_mobile:null,name:null,price:null,proteins:null,type:null,__v:null,_id:null},Xn={orderRequest:!1,orderFailed:!1,order:{number:0},success:!1,name:""},Yn={success:!1,user:null,accessToken:"",refreshToken:"",registerInfo:{request:!1,failedRequest:!1,success:!1},codePasswordInfo:{request:!1,failedRequest:!1,message:"",success:!1},confirmResetPass:{request:!1,failedRequest:!1,message:"",success:!1},loginInfo:{request:!1,failedRequest:!1,success:!1},getProfileInfo:{request:!1,failedRequest:!1,success:!1},logoutInfo:{request:!1,failedRequest:!1,success:!1,message:""}},Zn={connected:!1,error:!1,orders:[],total:0,totalToday:0},$n={connected:!1,error:!1,orders:[],total:0,totalToday:0},er=Object(Qn.b)({burgerIngredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(U.a)(Object(U.a)({},e),{},{ingredientsInitialState:!0});case je:return{burgerIngredients:t.payload,burgerIngredientsRequest:!1,burgerIngredientsFailed:!1};case be:return Object(U.a)(Object(U.a)({},e),{},{burgerIngredientsRequest:!1,burgerIngredientsFailed:!0});case _e:return Object(U.a)(Object(U.a)({},e),{},{burgerIngredients:Object(rn.a)(e.burgerIngredients).map((function(e){return e._id===t.payload._id?Object(U.a)(Object(U.a)({},e),{},{qty:e.qty+1||1}):e}))});case pe:return Object(U.a)(Object(U.a)({},e),{},{burgerIngredients:Object(rn.a)(e.burgerIngredients).map((function(e){return e._id===t.payload._id?Object(U.a)(Object(U.a)({},e),{},{qty:e.qty-1||null}):e}))});case Oe:return Object(U.a)(Object(U.a)({},e),{},{burgerIngredients:Object(rn.a)(e.burgerIngredients).map((function(e){return e._id===t.payload._id&&"bun"===e.type?Object(U.a)(Object(U.a)({},e),{},{qty:2}):"bun"===e.type?Object(U.a)(Object(U.a)({},e),{},{qty:null}):e}))});case me:return Object(U.a)(Object(U.a)({},e),{},{burgerIngredients:Object(rn.a)(e.burgerIngredients).map((function(e){return Object(U.a)(Object(U.a)({},e),{},{qty:null})}))});default:return e}},burgerConstructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(U.a)(Object(U.a)({},e),{},{ingredients:[].concat(Object(rn.a)(e.ingredients),[t.payload])});case J:var n=Object(rn.a)(e.ingredients).findIndex((function(e){return"bun"===e.type})),r=-1===n?[t.payload].concat(Object(rn.a)(e.ingredients)):[].concat(Object(rn.a)(e.ingredients.slice(0,n)),[t.payload],Object(rn.a)(e.ingredients.slice(n+1)));return Object(U.a)(Object(U.a)({},e),{},{ingredients:r});case V:return Object(U.a)(Object(U.a)({},e),{},{ingredients:Object(rn.a)(e.ingredients).filter((function(e){return e.uuid!==t.id}))});case K:return Object(U.a)(Object(U.a)({},e),{},{ingredients:Object(rn.a)(t.payload)});case X:return Object(U.a)({},Wn);default:return e}},ingredientDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jn:return Object(U.a)({},t.payload);case Vn:return Object(U.a)({},Kn);default:return e}},orderInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Object(U.a)(Object(U.a)({},e),{},{orderRequest:!0,success:!1});case Ie:return Object(U.a)(Object(U.a)(Object(U.a)({},e),t.payload),{},{orderRequest:!1,orderFailed:!1});case Ee:return Object(U.a)(Object(U.a)({},e),{},{orderRequest:!1,orderFailed:!0,success:!1});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke:return Object(U.a)(Object(U.a)({},e),{},{registerInfo:Object(U.a)(Object(U.a)({},e.registerInfo),{},{request:!0,success:!1,failedRequest:!1})});case Xe:return Object(U.a)(Object(U.a)({},e),{},{user:t.payload.user,registerInfo:Object(U.a)(Object(U.a)({},e.registerInfo),{},{request:!1,success:!0,failedRequest:!1})});case Ye:return Object(U.a)(Object(U.a)({},e),{},{registerInfo:Object(U.a)(Object(U.a)({},e.registerInfo),{},{request:!1,success:!1,failedRequest:!0})});case Ze:return Object(U.a)(Object(U.a)({},e),{},{codePasswordInfo:Object(U.a)(Object(U.a)({},e.codePasswordInfo),{},{request:!0,failedRequest:!1})});case $e:return Object(U.a)(Object(U.a)({},e),{},{codePasswordInfo:Object(U.a)(Object(U.a)(Object(U.a)({},e.codePasswordInfo),t.payload),{},{request:!1,failedRequest:!1})});case et:return Object(U.a)(Object(U.a)({},e),{},{codePasswordInfo:Object(U.a)(Object(U.a)({},e.codePasswordInfo),{},{request:!1,failedRequest:!0})});case tt:return Object(U.a)(Object(U.a)({},e),{},{confirmResetPass:Object(U.a)(Object(U.a)({},e.confirmResetPass),{},{request:!0,failedRequest:!1})});case nt:return Object(U.a)(Object(U.a)({},e),{},{confirmResetPass:Object(U.a)(Object(U.a)(Object(U.a)({},e.confirmResetPass),t.payload),{},{request:!1,failedRequest:!1})});case rt:return Object(U.a)(Object(U.a)({},e),{},{confirmResetPass:Object(U.a)(Object(U.a)({},e.confirmResetPass),{},{request:!1,failedRequest:!0})});case at:return Object(U.a)(Object(U.a)({},e),{},{loginInfo:Object(U.a)(Object(U.a)({},e.loginInfo),{},{request:!0,failedRequest:!1})});case st:return Object(U.a)(Object(U.a)({},e),{},{user:t.payload.user,loginInfo:Object(U.a)(Object(U.a)(Object(U.a)({},e.loginInfo),t.payload),{},{request:!1,failedRequest:!1})});case ct:return Object(U.a)(Object(U.a)({},e),{},{loginInfo:Object(U.a)(Object(U.a)({},e.loginInfo),{},{request:!1,failedRequest:!0})});case ut:return Object(U.a)(Object(U.a)({},e),{},{getProfileInfo:Object(U.a)(Object(U.a)({},e.getProfileInfo),{},{request:!0,failedRequest:!1})});case jt:return Object(U.a)(Object(U.a)({},e),{},{user:t.payload.user,getProfileInfo:Object(U.a)(Object(U.a)({},e.getProfileInfo),{},{success:t.payload.success,request:!1,failedRequest:!1})});case dt:return Object(U.a)(Object(U.a)({},e),{},{getProfileInfo:Object(U.a)(Object(U.a)({},e.getProfileInfo),{},{request:!1,failedRequest:!0})});case it:return Object(U.a)(Object(U.a)({},e),{},{logoutInfo:Object(U.a)(Object(U.a)({},e.logoutInfo),{},{request:!0,failedRequest:!1})});case lt:return Object(U.a)(Object(U.a)({},e),{},{user:null,logoutInfo:Object(U.a)(Object(U.a)({},e.logoutInfo),{},{success:t.payload.success,message:t.payload.message,request:!1,failedRequest:!1})});case ot:return Object(U.a)(Object(U.a)({},e),{},{logoutInfo:Object(U.a)(Object(U.a)({},e.logoutInfo),{},{request:!1,failedRequest:!0})});default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pn:return Object(U.a)(Object(U.a)({},e),{},{connected:!0,error:!1});case mn:return Object(U.a)(Object(U.a)({},e),{},{connected:!1,error:!0});case fn:return Object(U.a)(Object(U.a)({},e),{},{connected:!1,error:!1});case xn:return Object(U.a)(Object(U.a)({},e),t.payload);default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wn:return Object(U.a)(Object(U.a)({},e),{},{connected:!0,error:!1});case kn:return Object(U.a)(Object(U.a)({},e),{},{connected:!1,error:!0});case Dn:return Object(U.a)(Object(U.a)({},e),{},{connected:!1,error:!1});case Ln:return Object(U.a)(Object(U.a)({},e),t.payload);default:return e}}}),tr=n(121),nr=["success"],rr=function(e){return function(t){var n=null;return function(r){return function(a){var c=t.dispatch,s=a.type,i=a.payload,o=e.wsInit,l=e.wsClose,u=e.wsSendMessage,d=e.onOpen,j=e.onClose,b=e.onError,_=e.onMessage;if(s===o&&(n=new WebSocket(i)),n&&s===l&&n.close(),n&&(n.onopen=function(e){c({type:d,payload:e})},n.onerror=function(e){c({type:b,payload:e})},n.onmessage=function(e){var t=e.data,n=JSON.parse(t),r=(n.success,Object(Ht.a)(n,nr));c({type:_,payload:r})},n.onclose=function(e){c({type:j,payload:e})},s===u)){var O=Object(U.a)({},i);n.send(JSON.stringify(O))}return r(a)}}}},ar={wsInit:_n,wsClose:On,onOpen:pn,onClose:fn,onError:mn,onMessage:xn},cr={wsInit:Tn,wsClose:Rn,onOpen:wn,onClose:Dn,onError:kn,onMessage:Ln},sr=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Qn.c)(Object(Qn.a)(tr.a,rr(ar),rr(cr))),ir=Object(Qn.d)(er,sr);o.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(g.a,{store:ir,children:Object(f.jsx)(O.a,{children:Object(f.jsx)(Bn,{})})})}),document.getElementById("root"))},22:function(e,t,n){e.exports={cardOrder:"card-order_cardOrder__3yGQ3",cardOrder_wrapper:"card-order_cardOrder_wrapper__3kidh",cardOrder__info:"card-order_cardOrder__info__2W3QE",cardOrder__orderNumber:"card-order_cardOrder__orderNumber__2Vp8j",cardOrder__dateNumber:"card-order_cardOrder__dateNumber__3iRMh",cardOrder__name:"card-order_cardOrder__name__3_cz7",cardOrder__total:"card-order_cardOrder__total__2iULZ",cardOrder__orderDetails:"card-order_cardOrder__orderDetails__dDydf",cardOrder__listIngredients:"card-order_cardOrder__listIngredients__2UsPP",cardOrder__listIngredientItem:"card-order_cardOrder__listIngredientItem__2pUtB"}},25:function(e,t,n){e.exports={feedPage:"feed_feedPage__1MCky",feedPage__wrapper:"feed_feedPage__wrapper__1Cqdf",feedPage__content:"feed_feedPage__content__12vKa",feedList:"feed_feedList__1WxjS",feedList__item:"feed_feedList__item__1tdBT",feedStatusLists:"feed_feedStatusLists__3lyfV"}},27:function(e,t,n){e.exports={sidebarMenu:"sidebar-menu_sidebarMenu__1ebPt",sidebarMenu__item:"sidebar-menu_sidebarMenu__item__1xXjT",link:"sidebar-menu_link__b_5xX",link__active:"sidebar-menu_link__active__1Uq7W"}},31:function(e,t,n){e.exports={burgerconstructorList__inner:"constructor-list_burgerconstructorList__inner__1jQK5",burgerconstructorListOverflowHidden__inner:"constructor-list_burgerconstructorListOverflowHidden__inner__1ooNt",burgerconstructorList__item:"constructor-list_burgerconstructorList__item__13tkB",burgerconstructorList:"constructor-list_burgerconstructorList__1MF88"}},36:function(e,t,n){e.exports={profile:"profile_profile__jEAQH",profile__container:"profile_profile__container__3Kkwk",profile__wrapper:"profile_profile__wrapper__2nNvk",profileForm:"profile_profileForm__37zkS"}},37:function(e,t,n){e.exports={orderHistory:"order-history_orderHistory__3fAOu",orderHistory__container:"order-history_orderHistory__container__2EXbB",orderHistory__wrapper:"order-history_orderHistory__wrapper__2WdeH",sidebarLeft:"order-history_sidebarLeft__2YKCi",orderHistoryList:"order-history_orderHistoryList__pvCxN",orderHistoryList__item:"order-history_orderHistoryList__item__2C4jz"}},44:function(e,t,n){e.exports={status:"order-info_status__1nqj6",orderInfo__main:"order-info_orderInfo__main__2HbJy",orderInfo__total:"order-info_orderInfo__total__GrpI7",orderInfo__footer:"order-info_orderInfo__footer__ppf5u"}},54:function(e,t,n){e.exports={burgerConstructor:"burger-constructor_burgerConstructor__3TwlH",burgerConstructor__total:"burger-constructor_burgerConstructor__total__1WHC8",buttonOrder:"burger-constructor_buttonOrder__DDrho"}},55:function(e,t,n){e.exports={popup:"modal_popup__2sn4l",popup__close:"modal_popup__close__1IZKh"}},56:function(e,t,n){e.exports={orderList:"order-list_orderList__vjUvg",orderList__item:"order-list_orderList__item__2CBF7",orderList__total:"order-list_orderList__total__1u0QT"}},78:function(e,t,n){e.exports={burgerConstructorList__innerItem:"constructor-item_burgerConstructorList__innerItem__3qC_q",wrapperConstructorElement:"constructor-item_wrapperConstructorElement__HNv9Z"}},80:function(e,t,n){e.exports={templateConstructorElement:"template-constructor-element_templateConstructorElement__2r0aN"}},81:function(e,t,n){e.exports={card__list:"ingredient-list_card__list__Q4lFC",card__listItem:"ingredient-list_card__listItem__abi3B"}},83:function(e,t,n){e.exports={login:"login_login__cujIw"}},84:function(e,t,n){e.exports={register:"register_register__2-v_J"}},85:function(e,t,n){e.exports={forgotPassword:"forgot-password_forgotPassword__bTvyJ"}},86:function(e,t,n){e.exports={resetPassword:"reset-password_resetPassword__39QRX"}},87:function(e,t,n){e.exports={statusList:"status-list_statusList__tL6MU",statusList__item:"status-list_statusList__item__2WENI"}},88:function(e,t,n){e.exports={IconIngredient__img:"icon-ingredient_IconIngredient__img__3gbwi",IconIngredient__text:"icon-ingredient_IconIngredient__text__3sIDa"}}},[[216,1,2]]]);
//# sourceMappingURL=main.a7715c88.chunk.js.map